"use strict";(self.webpackChunkhezx=self.webpackChunkhezx||[]).push([[770],{78:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,".src-lowCode-builtIn-components-Popper-index__popper-container{padding:3px 18px;background-color:var(--container-bg-2);box-shadow:0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12);border-radius:5px}.src-lowCode-builtIn-components-Popper-index__popper-title{border-bottom:1px solid #dfdfdf;display:flex;align-items:center;position:relative;height:40px}.src-lowCode-builtIn-components-Popper-index__popper-close-icon{position:absolute;font-size:small;right:0;cursor:pointer}.src-lowCode-builtIn-components-Popper-index__popper-body{padding:10px 0}","",{version:3,sources:["webpack://./src/lowCode/builtIn/components/Popper/index.scss"],names:[],mappings:"AAAA,+DACE,gBAAA,CACA,sCAAA,CACA,0GAAA,CAGA,iBAAA,CAGF,2DACE,+BAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,WAAA,CAGF,gEACE,iBAAA,CACA,eAAA,CACA,OAAA,CACA,cAAA,CAGF,0DACE,cAAA",sourcesContent:[".popper-container {\n  padding: 3px 18px;\n  background-color: var(--container-bg-2);\n  box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);\n  // min-width: 100px;\n  // min-height: 50px;\n  border-radius: 5px;\n}\n\n.popper-title {\n  border-bottom: 1px solid #dfdfdf;\n  display: flex;\n  align-items: center;\n  position: relative;\n  height: 40px;\n}\n\n.popper-close-icon {\n  position: absolute;\n  font-size: small;\n  right: 0;\n  cursor: pointer;\n}\n\n.popper-body {\n  padding: 10px 0;\n}"],sourceRoot:""}]),a.locals={"popper-container":"src-lowCode-builtIn-components-Popper-index__popper-container",popperContainer:"src-lowCode-builtIn-components-Popper-index__popper-container","popper-title":"src-lowCode-builtIn-components-Popper-index__popper-title",popperTitle:"src-lowCode-builtIn-components-Popper-index__popper-title","popper-close-icon":"src-lowCode-builtIn-components-Popper-index__popper-close-icon",popperCloseIcon:"src-lowCode-builtIn-components-Popper-index__popper-close-icon","popper-body":"src-lowCode-builtIn-components-Popper-index__popper-body",popperBody:"src-lowCode-builtIn-components-Popper-index__popper-body"};const l=a},2617:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,'.src-lowCode-propsPanel-index__items-container{display:flex;flex-direction:column}.src-lowCode-propsPanel-index__props-panel{padding:5px 0px}.src-lowCode-propsPanel-index__props-panel .MuiSelect-select{padding-left:6px}.src-lowCode-propsPanel-index__props-panel-item{display:flex;flex-wrap:nowrap;column-gap:5px;margin-bottom:20px;align-items:center}.src-lowCode-propsPanel-index__props-panel-item-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:80px;font-family:"General Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.src-lowCode-propsPanel-index__props-panel-item-widget{flex:1 1}.src-lowCode-propsPanel-index__event-list{border:1px solid #dfdfdf}.src-lowCode-propsPanel-index__event-list-empty{padding:5px 10px;cursor:default}.src-lowCode-propsPanel-index__panel-section{padding:0px 10px}.src-lowCode-propsPanel-index__panel-section-title{margin:5px 0;display:flex;align-items:center;position:relative}.src-lowCode-propsPanel-index__action-config-panel{width:220px;padding-top:5px}.src-lowCode-propsPanel-index__action-config-panel .MuiSelect-select{padding-left:6px;font-size:11px;box-sizing:border-box}.src-lowCode-propsPanel-index__action-config-panel .MuiSelect-select .MuiMenuItem-root{font-size:12px !important}.src-lowCode-propsPanel-index__action-config-panel .MuiFormLabel-root{font-size:11px}.src-lowCode-propsPanel-index__action-config-panel .MuiInputBase-root{font-size:13px}.src-lowCode-propsPanel-index__panel-section-title-add{position:absolute;right:0;font-size:14px;cursor:pointer}',"",{version:3,sources:["webpack://./src/lowCode/propsPanel/index.scss","webpack://./src/styles/abstracts/_mixins.scss"],names:[],mappings:"AAEA,+CACE,YAAA,CACA,qBAAA,CAGF,2CACE,eAAA,CAGE,6DACE,gBAAA,CAKN,gDACE,YAAA,CACA,gBAAA,CACA,cAAA,CACA,kBAAA,CAEA,kBAAA,CAGF,sDACE,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,UAAA,CAEA,sKAAA,CAGF,uDACE,QAAA,CAGF,0CACE,wBAAA,CAGF,gDACE,gBAAA,CACA,cAAA,CAGF,6CAEE,gBAAA,CAGF,mDACE,YAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CAGF,mDACE,WAAA,CACA,eAAA,CC5DE,qEACE,gBAAA,CACA,cAAA,CACA,qBAAA,CAEA,uFACE,yBAAA,CAIJ,sEACE,cAAA,CAGF,sEACE,cAAA,CDmDN,uDACE,iBAAA,CACA,OAAA,CACA,cAAA,CACA,cAAA",sourcesContent:['@use \'/src/styles/abstracts/mixins\' as m;\n\n.items-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.props-panel {\n  padding: 5px 0px;\n\n  :global {\n    .MuiSelect-select {\n      padding-left: 6px;\n    }\n  }\n}\n\n.props-panel-item {\n  display: flex;\n  flex-wrap: nowrap;\n  column-gap: 5px;\n  margin-bottom: 20px;\n  /* height: 40px; */\n  align-items: center;\n}\n\n.props-panel-item-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 80px;\n  /* align-self: flex-start; */\n  font-family: "General Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";\n}\n\n.props-panel-item-widget {\n  flex: 1 1;\n}\n\n.event-list {\n  border: 1px solid #dfdfdf;\n}\n\n.event-list-empty {\n  padding: 5px 10px;\n  cursor: default;\n}\n\n.panel-section {\n  // border-bottom: 1px solid #dfdfdf;\n  padding: 0px 10px;\n}\n\n.panel-section-title {\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.action-config-panel {\n  width: 220px;\n  padding-top: 5px;\n\n  \n  @include m.mui-adpation;\n}\n\n.panel-section-title-add {\n  position: absolute;\n  right: 0;\n  font-size: 14px;\n  cursor: pointer;\n}',"@mixin mui-adpation {\n  :global {\n    .MuiSelect-select {\n      padding-left: 6px;\n      font-size: 11px;\n      box-sizing: border-box;\n\n      .MuiMenuItem-root {\n        font-size: 12px !important;\n      }\n    }\n\n    .MuiFormLabel-root {\n      font-size: 11px;\n    }\n\n    .MuiInputBase-root {\n      font-size: 13px;\n    }\n  }\n}"],sourceRoot:""}]),a.locals={"items-container":"src-lowCode-propsPanel-index__items-container",itemsContainer:"src-lowCode-propsPanel-index__items-container","props-panel":"src-lowCode-propsPanel-index__props-panel",propsPanel:"src-lowCode-propsPanel-index__props-panel","props-panel-item":"src-lowCode-propsPanel-index__props-panel-item",propsPanelItem:"src-lowCode-propsPanel-index__props-panel-item","props-panel-item-label":"src-lowCode-propsPanel-index__props-panel-item-label",propsPanelItemLabel:"src-lowCode-propsPanel-index__props-panel-item-label","props-panel-item-widget":"src-lowCode-propsPanel-index__props-panel-item-widget",propsPanelItemWidget:"src-lowCode-propsPanel-index__props-panel-item-widget","event-list":"src-lowCode-propsPanel-index__event-list",eventList:"src-lowCode-propsPanel-index__event-list","event-list-empty":"src-lowCode-propsPanel-index__event-list-empty",eventListEmpty:"src-lowCode-propsPanel-index__event-list-empty","panel-section":"src-lowCode-propsPanel-index__panel-section",panelSection:"src-lowCode-propsPanel-index__panel-section","panel-section-title":"src-lowCode-propsPanel-index__panel-section-title",panelSectionTitle:"src-lowCode-propsPanel-index__panel-section-title","action-config-panel":"src-lowCode-propsPanel-index__action-config-panel",actionConfigPanel:"src-lowCode-propsPanel-index__action-config-panel","panel-section-title-add":"src-lowCode-propsPanel-index__panel-section-title-add",panelSectionTitleAdd:"src-lowCode-propsPanel-index__panel-section-title-add"};const l=a},6296:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,".cm-editor{border-radius:3px;outline:1px solid var(--border-1) !important;box-sizing:border-box;background-color:rgba(0,0,0,0) !important;cursor:text}.cm-editor .cm-cursor{border-left-color:var(--cursor-1) !important}.cm-editor .ͼd{color:var(--text-input-2)}.cm-editor .ͼq{color:var(--text-input-2)}.cm-editor:hover{outline:1px solid var(--border-hover-1) !important}.cm-editor.cm-focused{outline:2px solid var(--border-focus-primary) !important}.cm-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li:hover{background-color:var(--container-bg-hover-1)}.cm-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li[aria-selected]{background-color:var(--container-bg-0);color:var(--text-input-0)}","",{version:3,sources:["webpack://./src/lowCode/builtIn/components/CodeEditor/index.scss"],names:[],mappings:"AAAA,WACE,iBAEE,CAAA,4CACA,CAAA,qBACA,CAAA,yCACA,CAAA,WACA,CAAA,sBAIA,4CACE,CAAA,eAGF,yBACE,CAAA,eAEF,yBACE,CAAA,iBAOF,kDACE,CAAA,sBAEF,wDACE,CAAA,2DAKF,4CACE,CAAA,oEAEF,sCACE,CAAA,yBACA",sourcesContent:[":global {\n  .cm-editor {\n    // outline: transparent !important;\n    border-radius: 3px;\n    outline: 1px solid var(--border-1) !important;\n    box-sizing: border-box;\n    background-color: transparent !important;\n    cursor: text;\n    .cm-line {\n    }\n\n    .cm-cursor {\n      border-left-color: var(--cursor-1) !important;\n    }\n\n    .ͼd {\n      color: var(--text-input-2);\n    }\n    .ͼq {\n      color: var(--text-input-2);\n    }\n\n    // .cm-tooltip.cm-tooltip-autocomplete {\n    //   max-width: 1000px;\n    // }\n\n    &:hover {\n      outline: 1px solid var(--border-hover-1) !important;\n    }\n    &.cm-focused {\n      outline: 2px solid var(--border-focus-primary) !important;\n    }\n\n    \n    \n    .cm-tooltip.cm-tooltip-autocomplete > ul > li:hover {\n      background-color: var(--container-bg-hover-1);\n    }\n    .cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected] {\n      background-color: var(--container-bg-0);\n      color: var(--text-input-0);\n    }\n  }\n\n}"],sourceRoot:""}]),a.locals={};const l=a},8407:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,".src-lowCode-form-index__form-item{margin-bottom:15px}","",{version:3,sources:["webpack://./src/lowCode/form/index.scss"],names:[],mappings:"AAAA,mCACE,kBAAA",sourcesContent:[".form-item {\n  margin-bottom: 15px;\n}"],sourceRoot:""}]),a.locals={"form-item":"src-lowCode-form-index__form-item",formItem:"src-lowCode-form-index__form-item"};const l=a},8768:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,"\n.src-lowCode-componentsPanel-index__components-panel {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 5px 10px;\n  row-gap: 10px;\n  width: 100%;\n  column-gap: 10px;\n}\n\n.src-lowCode-componentsPanel-index__component-card {\n  /* padding: 5px; */\n  cursor: grab;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 2px;\n  height: 65px;\n  border: 1px solid var(--border-1);\n  width: 65px;\n  /* padding: 3px; */\n}\n\n.src-lowCode-componentsPanel-index__component-card-name {\n  font-size: 10;\n  user-select: none;\n}\n\n.src-lowCode-componentsPanel-index__component-card-thumbnail {\n  /* width: 80px; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n}\n\n.src-lowCode-componentsPanel-index__custom-drag-preview {\n}\n\n.src-lowCode-componentsPanel-index__preview-container {\n  transform: scale(.55);\n  pointer-events: none;\n}","",{version:3,sources:["webpack://./src/lowCode/componentsPanel/index.css"],names:[],mappings:";AACA;EACE,aAAa;EACb,eAAe;EACf,iBAAiB;EACjB,aAAa;EACb,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,YAAY;EACZ,YAAY;EACZ,iCAAiC;EACjC,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;AACd;;AAEA;AACA;;AAEA;EACE,qBAAqB;EACrB,oBAAoB;AACtB",sourcesContent:["\n.components-panel {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 5px 10px;\n  row-gap: 10px;\n  width: 100%;\n  column-gap: 10px;\n}\n\n.component-card {\n  /* padding: 5px; */\n  cursor: grab;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 2px;\n  height: 65px;\n  border: 1px solid var(--border-1);\n  width: 65px;\n  /* padding: 3px; */\n}\n\n.component-card-name {\n  font-size: 10;\n  user-select: none;\n}\n\n.component-card-thumbnail {\n  /* width: 80px; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n}\n\n.custom-drag-preview {\n}\n\n.preview-container {\n  transform: scale(.55);\n  pointer-events: none;\n}"],sourceRoot:""}]),a.locals={"components-panel":"src-lowCode-componentsPanel-index__components-panel",componentsPanel:"src-lowCode-componentsPanel-index__components-panel","component-card":"src-lowCode-componentsPanel-index__component-card",componentCard:"src-lowCode-componentsPanel-index__component-card","component-card-name":"src-lowCode-componentsPanel-index__component-card-name",componentCardName:"src-lowCode-componentsPanel-index__component-card-name","component-card-thumbnail":"src-lowCode-componentsPanel-index__component-card-thumbnail",componentCardThumbnail:"src-lowCode-componentsPanel-index__component-card-thumbnail","custom-drag-preview":"src-lowCode-componentsPanel-index__custom-drag-preview",customDragPreview:"src-lowCode-componentsPanel-index__custom-drag-preview","preview-container":"src-lowCode-componentsPanel-index__preview-container",previewContainer:"src-lowCode-componentsPanel-index__preview-container"};const l=a},9770:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ur,useLayoutStore:()=>cr});var r=t(9474),o=t(4678),i=t(6321),a=t(9135),l=t(3923),c=t.n(l),u=t(6904),s=t.n(u),p=t(8052),f=t.n(p),m=t(1203),d=t.n(m),b=t(5447),v=t.n(b),A=t(612),y=t.n(A),g=t(2617),h={};h.styleTagTransform=y(),h.setAttributes=d(),h.insert=f().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=v(),c()(g.A,h);const x=g.A&&g.A.locals?g.A.locals:void 0;var C=t(1581),E=t(9258),w=t(4999),O=t(393),S=["value","onChange","options"];function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},P.apply(null,arguments)}var j=t(2638),_=t(2998),I=t(7389),k=t(9994),B=t(4432),D=t(1600),T=t(3129),z=t(570),N=t(9291),M=t(6430);function L(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return R(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}var H=(0,B.yU)({override:[function(e){var n,t=e.state.sliceDoc(0,e.pos),r=e.state.sliceDoc(e.pos),o=t.lastIndexOf("{{"),i=r.indexOf("}}");if(-1===o||-1===i)return null;if(e.pos<o+2||e.pos>e.pos+i)return null;var a=Math.max(o+2,t.lastIndexOf(" ")+1),l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[];if(e.includes(".")){var r=e.lastIndexOf("."),o=e.substring(0,r),i=e.endsWith(".")?"":e.substring(r+1),a=(0,N.A)(n,o);"object"!==F(a)||i in a||(t=(0,M.A)(Reflect.ownKeys(a).map((function(e){if("string"==typeof e)return a[e],{label:"".concat(o,".").concat(e),displayLabel:e,boost:20}}))))}else t=Reflect.ownKeys(n).map((function(e){return"object"===F(n[e])?{label:"".concat(e,"."),boost:20}:{label:e,boost:20}}));return(0,N.A)(n,e),t.filter((function(n){return n.label.startsWith(e)}))}(t.substring(a),(0,D.uA)());return{from:a,to:e.pos,options:[].concat(L(l),L(_.L),L((null===(n=(0,_.$k)(e))||void 0===n?void 0:n.options)||[]))}}],activateOnTyping:!0,activateOnCompletion:function(e){return!0}}),W=t(6296),Y={};Y.styleTagTransform=y(),Y.setAttributes=d(),Y.insert=f().bind(null,"head"),Y.domAPI=s(),Y.insertStyleElement=v(),c()(W.A,Y),W.A&&W.A.locals&&W.A.locals;var G=t(76),U=t(78),V={};V.styleTagTransform=y(),V.setAttributes=d(),V.insert=f().bind(null,"head"),V.domAPI=s(),V.insertStyleElement=v(),c()(U.A,V);const X=U.A&&U.A.locals?U.A.locals:void 0;var q=t(4711),K=t(7918),Z=t(9404),$=t(2411),Q=t(5076),J=t(6708);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ne.apply(null,arguments)}function te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function re(e,n,t){return(n=function(e){var n=function(e){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=ee(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ee(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const oe=function(e){var n=e.open,t=e.transition,o=void 0===t||t,i=e.title,a=e.showClose,l=void 0===a||a,c=e.anchorEl,u=e.placement,s=e.onOpenChange,p=e.children,f=e.offset,m=void 0===f?[0,0]:f,d=e.width,b=e.style,v=void 0===b?{}:b,A=e.disablePadding,y=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?te(Object(t),!0).forEach((function(n){re(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},v);return(0,Q.A)(d)||(y.width=d),A&&(y.padding=0),r.createElement(q.A,{open:n,transition:o,anchorEl:c,placement:u,sx:{zIndex:20},modifiers:[{name:"offset",options:{offset:m}}]},(function(e){var n=e.TransitionProps;return r.createElement(K.A,ne({},n,{timeout:200}),r.createElement("div",{className:X["popper-container"],style:y},(i||l)&&r.createElement("div",{className:X["popper-title"]},i&&r.createElement(Z.A,{variant:"subtitle2",sx:{color:"var(--text-input-2)"}},i),l&&r.createElement("span",{className:X["popper-close-icon"],onClick:function(){null==s||s(!1)}},r.createElement($.A,{fontSize:"inherit"}))),r.createElement("div",{className:X["popper-body"],style:(0,J.A)(y,"padding")},p)))}))};var ie=t(9730),ae=t(7988);const le=function(e){var n=e.titles,t=e.description,o=e.example,i=e.onClick,a=e.onMouseDown,l=n&&(t||o);return r.createElement(ie.A,{onClick:i,onMouseDown:a,sx:{minWidth:"50px",backgroundColor:"var(--container-bg-4)"}},r.createElement(ie.A,{sx:{p:"5px 10px",display:"flex"}},n&&n.map((function(e,t){return r.createElement(ie.A,{display:"flex",alignItems:"center",key:e},r.createElement(Z.A,{variant:"button",fontSize:"12px"},e),t<n.length-1&&r.createElement(ae.A,{orientation:"vertical",sx:{m:"0 10px"}}))}))),l&&r.createElement(ae.A,null),t&&r.createElement(ie.A,{sx:{p:"5px 10px",display:"flex"}},r.createElement(Z.A,{fontSize:"12px"},t)),o&&r.createElement(ie.A,{p:"5px"},r.createElement(ie.A,null,r.createElement(Z.A,{fontSize:12},"示例")),r.createElement(ie.A,null,r.createElement(Z.A,{fontSize:11},o))))};function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ce.apply(null,arguments)}function ue(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return se(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?se(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var pe=I.w4.of([{key:"Mod-Shift-i",mac:"Cmd-Shift-i",run:function(e){return(0,B.rB)(e),!0},stopPropagation:!0,preventDefault:!0}]),fe=j.NZ.mark({class:"cm-mustache",attributes:{title:"Mustache template"}}),me=j.NZ.mark({class:"cm-mustache-error",attributes:{title:"Mustche template error"}}),de=I.Lz.decorations.compute(["doc"],(function(e){var n=new j.vB,t=e.doc.toString();if(!/\{\{([\s\S]*?)\}\}/.test(t))return n.finish();var r=ue((0,D.Wo)(t),3),o=(r[0],r[1],r[2]);return(0,T.A)(o.reverse(),(function(e){var t=e.index,r=e.index+e.expressionWithBracket.length;n.add(t,r,e.err?me:fe)})),n.finish()}));const be=function(e){var n,t=e.id,o=e.value,i=e.onChange,a=e.name,l=e.style,c=e.hideLineNo,u=void 0!==c&&c,s=e.tipProps,p=(0,r.useCallback)((function(e,n){i({target:{name:a,value:e}},e)}),[i,a]),f=(0,r.useCallback)((function(e){(0,G.cu)((function(){(0,B.rB)(I.Lz.findFromDOM(e.target))})),v(!0)}),[]),m=(0,r.useCallback)((function(e){v(!1)}),[]),d=ue((0,r.useState)(!1),2),b=d[0],v=d[1],A=(0,r.useRef)(null),y=(0,r.useMemo)((function(){var e={"&":{fontSize:"12px"},".cm-content":{fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",lineHeight:"18px"},".cm-gutters":{fontSize:"8px",display:u?"none":""},".cm-mustache":{backgroundColor:"rgba(186,239,205, .4)",borderRadius:2,padding:"0 2px"},".cm-mustache-error":{backgroundColor:"rgba(250,219,222, .4)",borderRadius:2,padding:"0 2px"},".cm-activeLine.cm-line":{backgroundColor:"transparent"}};return I.Lz.theme(e)}),[u]),g=(0,k.A)((function(e){return e.theme})),h=(0,r.useMemo)((function(){return!(0,z.A)(s)}),[s]);return r.createElement("div",{style:l},r.createElement(j.Ay,{id:t,value:o,extensions:[(0,_.Q2)({jsx:!0}),y,H,de,I.Lz.lineWrapping,pe],onChange:p,onFocus:f,onBlur:m,theme:g}),r.createElement("div",{ref:A}),h&&r.createElement(oe,{open:b,onOpenChange:function(e){return v(e)},anchorEl:A.current,showClose:!1,offset:[0,5],width:null===(n=A.current)||void 0===n?void 0:n.offsetWidth,style:{borderRadius:"3px",backgroundColor:"transparent"},disablePadding:!0},r.createElement(le,ce({},s,{onMouseDown:function(e){e.preventDefault()}}))))};var ve=["value","onChange"];function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ae.apply(null,arguments)}var ye=t(8058),ge=["value","onChange"];function he(){return he=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},he.apply(null,arguments)}var xe=t(9549),Ce=t(7709),Ee=t(2477),we=["value","onChange","options"];function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Oe.apply(null,arguments)}var Se=t(844),Pe=["value","onChange"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},je.apply(null,arguments)}const _e={input:function(e){var n=e.value,t=e.onChange,o=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,ge);return r.createElement(ye.A,he({autoComplete:"off",fullWidth:!0,hiddenLabel:!0,size:"small",value:n,onChange:function(e){return t(e.target.value)},slotProps:{input:{style:{height:"30px",fontSize:"11px"}}}},o))},select:function(e){var n=e.value,t=e.onChange,o=e.options,i=void 0===o?[]:o,a=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,we),l=(0,Ee.w)((function(){return i.map((function(e){return r.createElement(Ce.A,{key:e.value,value:e.value},e.label)}))}),[i]),c=(0,r.useCallback)((function(e){return t(e.target.value)}),[t]);return r.createElement(xe.A,Oe({value:n,onChange:c,style:{height:"30px",fontSize:"11px"},fullWidth:!0},a,{size:"small",MenuProps:{sx:{"& .MuiMenuItem-root":{fontSize:"11px"}}}}),l)},switch:function(e){var n=e.value,t=e.onChange,o=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,Pe);return r.createElement(Se.A,je({size:"small",value:n,onChange:function(e){return t(e.target.checked)}},o))},editor:function(e){var n=e.value,t=e.onChange,o=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,ve);return r.createElement(be,Ae({value:String(n),onChange:function(e,n){return t(n)}},o,{hideLineNo:!0}))},buttons:function(e){var n=e.value,t=e.onChange,o=e.options,i=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,S),a=(0,r.useMemo)((function(){return o.map((function(e){return r.createElement(w.A,{key:e.value,value:e.value,sx:{fontSize:"11px",width:"40px",height:"30px"}},e.label)}))}),o),l=(0,r.useCallback)((function(e,n){console.log("v",e,n),t(n)}),[t]);return r.createElement(O.A,P({value:n,exclusive:!0,onChange:l,size:"small"},i),a)}};var Ie=t(3152),ke=t(744),Be=t(1078),De=t(8051),Te=t(3132),ze=t(7796),Ne=t(2122),Me=t(9028),Le=t(2185),Re=t(6945),Fe=t(4543),He=t(6951),We=t(8407),Ye={};Ye.styleTagTransform=y(),Ye.setAttributes=d(),Ye.insert=f().bind(null,"head"),Ye.domAPI=s(),Ye.insertStyleElement=v(),c()(We.A,Ye);const Ge=We.A&&We.A.locals?We.A.locals:void 0;var Ue=t(2324);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function qe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Xe(Object(t),!0).forEach((function(n){Ke(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ke(e,n,t){return(n=function(e){var n=function(e){if("object"!=Ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ve(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ve(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ze.apply(null,arguments)}function $e(e){return r.createElement("div",{style:{display:"flex",alignItems:"center",columnGap:10}},r.createElement(Z.A,{fontSize:12,width:50,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},e.label),r.createElement("div",{style:{flex:"1 1"}},e.children))}var Qe=["render","onChange"],Je=function(e){var n=e.schema,t=e.initialValues,o=e.onChange,i=e.onSubmit,a=e.size,l=e.enableExpression,c=void 0===l||l,u=(0,He.Wx)({initialValues:t,onSubmit:function(e,n){null==i||i(e,n)}}),s=(0,r.useRef)(u);s.current=u;var p=(0,r.useCallback)((function(e){u.handleChange(e),(0,G.cu)((function(){null==o||o(qe({},s.current.values))}))}),[o,u,u.handleChange]),f=(0,r.useMemo)((function(){return c?function(e,n){var t=new Ue.A({mode:"expression"}),r={formValues:n};t.init(r);var o=/\{\{([\s\S]*?)\}\}/gi,i=(0,G.Bl)(e,(function(e,r){if("function"==typeof e&&!Qe.includes(r))return e(n);if("string"!=typeof e)return e;for(var i=e.trim(),a=null,l=i,c=[];null!==(a=o.exec(i));){var u=a[1],s=a[0],p=t.exec(u);if(s.length===i.length){l=p;break}c.push({expression:u,expressionWithBracket:s,expressionReturn:p,index:a.index})}return c.length&&c.reverse().forEach((function(e){var n=l.substring(0,e.index),t=l.substring(e.index+e.expressionWithBracket.length,l.length);l=n+e.expressionReturn+t})),o.lastIndex=0,l}));return i.items=i.items.flat(),i}(n,s.current.values):n}),[n,c]);return(0,r.useMemo)((function(){s.current.setValues(t)}),[t]),r.createElement("div",{onKeyDown:function(e){return e.stopPropagation()}},r.createElement("form",{onSubmit:u.handleSubmit},(0,Le.A)(null==f?void 0:f.items,(function(e){var n="".concat(e.field,"-label");return r.createElement("div",{className:Ge["form-item"],key:e.field||e.key},function(e,n,t){var o=e.type,i=e.field,a=e.label,l=e.options,c=(e.labelId,e.size),u=void 0===c?"small":c,s=e.hidden,p=e.render,f=e.onChange;if(s)return null;if("function"==typeof p)return p(e,n);var m=null,d={id:i,name:i,value:(0,N.A)(n.values,i,""),onChange:function(e){t(e),null==f||f(e,n)},size:u};switch(o){case Fe.sH.INPUT:m=r.createElement($e,{label:a},r.createElement(ye.A,Ze({},d,{hiddenLabel:!0,fullWidth:!0})));break;case Fe.sH.SELECT:var b=(0,Le.A)(l,(function(e){var n=e.value,t=e.label;return r.createElement(Ce.A,{key:n,value:n},t)}));d.children=b,m=r.createElement($e,{label:a},r.createElement(xe.A,Ze({style:{height:"30px",fontSize:"11px"}},d,{hiddenLabel:!0,fullWidth:!0,MenuProps:{sx:{"& .MuiMenuItem-root":{fontSize:"12px"}}}})));break;case Fe.sH.SWITCH:m=r.createElement($e,{label:a},r.createElement(Se.A,d));break;case Fe.sH.EDITOR:m=r.createElement($e,{label:a},r.createElement(be,Ze({},d,{hideLineNo:!0})))}return m}(qe(qe({},e),{},{labelId:n,size:a}),u,p))}))))},en=t(3554),nn=t(6482);function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function rn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||on(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,n){if(e){if("string"==typeof e)return an(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?an(e,n):void 0}}function an(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function ln(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ln(Object(t),!0).forEach((function(n){un(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ln(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function un(e,n,t){return(n=function(e){var n=function(e){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=tn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tn(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var sn=[{value:Re.X2.CONTROL_COMPONENT,label:"控制组件"},{value:Re.X2.RUN_SCRIPT,label:"运行脚本"},{value:Re.X2.NOTIFY,label:"通知"},{value:Re.X2.NAVIGATION,label:"跳转"}],pn=un(un(un({},Re.X2.RUN_SCRIPT,[{type:Fe.sH.EDITOR,field:"action.options.sourceCode",label:"代码"}]),Re.X2.NOTIFY,[{type:Fe.sH.EDITOR,field:"action.options.notifyContent",label:"通知内容",defaultValue:"这是一条消息通知"},{type:Fe.sH.SELECT,field:"action.options.notifyVariant",label:"通知类型",options:[{value:"default",label:"默认"},{value:"error",label:"错误"},{value:"success",label:"成功"},{value:"warning",label:"警告"},{value:"info",label:"通知"}]},{type:Fe.sH.SELECT,field:"action.options.notifyAnchorOrigin",label:"位置",options:[{label:"顶部中间",value:"top-center"},{label:"顶部偏左",value:"top-left"},{label:"顶部偏右",value:"top-right"},{label:"底部偏左",value:"bottom-left"},{label:"底部中间",value:"bottom-center"},{label:"底部偏右",value:"bottom-right"}]},{type:Fe.sH.SWITCH,field:"action.options.notifyHideIconVariant",label:"隐藏图标"}]),Re.X2.NAVIGATION,[{type:Fe.sH.INPUT,field:"action.options.navigationLink",label:"跳转链接"},{type:Fe.sH.SELECT,field:"action.options.navigationType",label:"跳转方式",options:[{value:"_blank",label:"新标签页"},{value:"_self",label:"当前页面"},{value:"_parent",label:"父框架"},{value:"_top",label:"顶层框架"}]},{type:Fe.sH.EDITOR,field:"action.options.navigationFeature",label:"特性参数"}]),fn=function(e){var n,t=(E.A.getState()[e]||{}).schema,r=null==t||null===(n=t.events)||void 0===n?void 0:n[0].type;return r?{type:r,action:{type:Re.X2.NOTIFY,options:{sourceCode:"{{(function () {\n  console.log('hello');\n  console.log('current time is', Date.now());\n})()}}",notifyContent:"你好 {{current_user.username}}",notifyVariant:"info",navigationLink:"https://example.com",navigationType:"_blank",navigationFeature:JSON.stringify({width:600,height:400,scrollbars:"yes",resizable:"yes"},null,2),notifyAnchorOrigin:"top-center"}}}:null},mn=function(e){var n=e.id,t=e.eventId,o=(0,ke.L)((function(e){var r;if(!t)return null;var o=null===(r=e.events[n])||void 0===r?void 0:r.find((function(e){return e.id===t}));return o})),i=(0,ke.L)((function(e){return e.updateEvent})),a=(0,C.YH)((function(e){return e.plainSchema[n]})),l=(0,E.A)((function(e){return e[null==a?void 0:a.type]})).schema,c=(0,Le.A)(l.events,(function(e){return{value:e.type,label:e.name}})),u=(0,Ee.w)((function(){return function(e){var n=e.event,t=e.eventOptions;if(!n)return{items:[]};var o,i=function(e){var n=e.event.action;if(!n)return[];if(pn[null==n?void 0:n.type])return pn[null==n?void 0:n.type];if(n.type===Re.X2.CONTROL_COMPONENT){var t=C.YH.getState().plainSchema;return[{type:Fe.sH.SELECT,field:"action.options.target",label:"目标组件",options:Object.keys(t).map((function(e){return{value:e,label:e}})).filter((function(e){var n=e.value;return(0,nn.iK)(t[n].type).length})),onChange:function(e,n){n.setFieldValue("action.options.method","")}},{type:Fe.sH.SELECT,field:"action.options.method",label:"调用方法",hidden:"{{!formValues.action.options.target}}",options:function(e){var n=(0,N.A)(e,"action.options.target");return n?(0,nn.iK)(t[n].type):[]}},function(e){var n=(0,N.A)(e,"action.options.target"),t=(0,N.A)(e,"action.options.method");if(console.log("here1"),!n||!t)return[];var r=(0,G.eQ)(n).methods.find((function(e){return e.type===t})).optionSchema;return(0,Le.A)(r,(function(e){return cn(cn({},e),{},{field:"action.options."+e.field})}))}]}return[]}({event:n}),a=[{type:Fe.sH.SELECT,field:"type",label:"事件类型",options:t},{type:Fe.sH.SELECT,field:"action.type",label:"动作",options:sn},{key:"optionDivider",render:function(e,t){var o;return r.createElement(ae.A,null,r.createElement(Z.A,{variant:"caption"},"".concat(null===(o=sn.find((function(e){var t;return e.value===(null===(t=n.action)||void 0===t?void 0:t.type)})))||void 0===o?void 0:o.label,"选项")))}}];return{items:[].concat(a,(o=i,function(e){if(Array.isArray(e))return an(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||on(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}}({event:o,eventOptions:c})}),[o,c]),s=(0,r.useCallback)((function(e){e.action.callback&&delete e.action.callback,i(n,t,e)}),[n,t]);return r.createElement("div",{className:x["action-config-panel"]},r.createElement(Je,{initialValues:o,schema:u,onChange:s,size:"small"}))},dn=(0,r.forwardRef)((function(e,n){var t=(0,a.A)((function(e){return e.selected})),o=(0,ke.L)((function(e){return e.events[t]})),i=(0,ke.L)((function(e){return e.addEvent})),l=rn((0,r.useState)(!1),2),c=l[0],u=l[1],s=(0,r.useRef)(null),p=rn((0,r.useState)(""),2),f=p[0],m=p[1],d=(0,C.YH)((function(e){return e.plainSchema[t]})),b=(0,E.A)((function(e){return e[d.type]})),v=(0,r.useRef)(null),A=rn((0,r.useState)(!1),2),y=A[0],g=A[1],h=(0,ke.L)((function(e){return e.deleteEvent})),w=(0,r.useRef)(""),O=(0,r.useMemo)((function(){return null==o?void 0:o.find((function(e){return e.id===f}))}),[o,f]),S=(0,r.useMemo)((function(){return b.schema.events.find((function(e){return e.type===(null==O?void 0:O.type)}))}),[O,b]),P=!(null!=o&&o.length);(0,r.useEffect)((function(){return function(){u(!1),m("")}}),[t]),(0,r.useImperativeHandle)(n,(function(){return{openEventPanel:function(e){s.current=document.getElementById("event-list-item-".concat(e)),m(e),u(!0)}}}));var j=(0,r.useCallback)((function(){h(t,w.current),g(!1),w.current=""}),[t]);return r.createElement("div",{className:x["event-list"]},P?r.createElement("div",{className:x["event-list-empty"],onClick:function(e){var n=fn(d.type);i(t,n);var r=ke.L.getState().events[t][0];s.current=e.currentTarget.parentElement,m(r.id),u(!0)}},r.createElement(Z.A,{variant:"caption"},"暂无事件，点击开始事件管理")):r.createElement(Be.A,{sx:{p:0}},(0,Le.A)(o,(function(e){var n=e.id,t=e.type,o=e.action,i=b.schema.events.find((function(e){return e.type===t})),a=sn.find((function(e){return e.value===o.type}));return r.createElement(De.Ay,{key:n,sx:{p:0},id:"event-list-item-".concat(n),secondaryAction:r.createElement(Te.A,{edge:"end",size:"small",sx:{borderRadius:"3px"},onClick:function(e){v.current=e.currentTarget,w.current=n,g(!0),u(!1)}},r.createElement(en.A,{sx:{fontSize:"14px"}}))},r.createElement(ze.A,{sx:{pt:0,pb:0},onClick:function(e){m(n),u(!0),s.current=e.currentTarget}},r.createElement(Ne.A,{primary:r.createElement(Z.A,{sx:{fontSize:"12px"}},i.name)}),r.createElement(Ne.A,{sx:{color:"#a1a1a1"},primary:r.createElement(Z.A,{sx:{fontSize:"12px"}},null==a?void 0:a.label)})))}))),r.createElement(oe,{open:c,anchorEl:s.current,placement:"left",onOpenChange:function(e){return u(e)},title:(null==S?void 0:S.name)+"事件配置"},r.createElement(mn,{id:t,eventId:f})),r.createElement(Me.A,{open:y,anchorEl:v.current,onClose:function(){w.current="",g(!1)}},r.createElement(Ce.A,{sx:{color:"red",fontSize:"12px"},onClick:j},"删除")))}));const bn=dn;var vn,An,yn,gn,hn,xn,Cn,En,wn,On,Sn=t(2564);function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Pn.apply(null,arguments)}const jn=function(e){return r.createElement("svg",Pn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 647.636 632.174"},e),vn||(vn=r.createElement("path",{fill:"#f2f2f2",d:"M411.146 142.174h-174.51a15.02 15.02 0 0 0-15 15v387.85l-2 .61-42.81 13.11a8.007 8.007 0 0 1-9.99-5.31l-127.34-415.95a8.003 8.003 0 0 1 5.31-9.99l65.97-20.2 191.25-58.54 65.97-20.2a7.99 7.99 0 0 1 9.99 5.3l32.55 106.32Z"})),An||(An=r.createElement("path",{fill:"#3f3d56",d:"m449.226 140.174-39.23-128.14a16.994 16.994 0 0 0-21.23-11.28l-92.75 28.39-191.24 58.55-92.75 28.4a17.015 17.015 0 0 0-11.28 21.23l134.08 437.93a17.03 17.03 0 0 0 16.26 12.03 16.8 16.8 0 0 0 4.97-.75l63.58-19.46 2-.62v-2.09l-2 .61-64.17 19.65a15.015 15.015 0 0 1-18.73-9.95L2.666 136.734a14.98 14.98 0 0 1 9.95-18.73l92.75-28.4 191.24-58.54 92.75-28.4a15.2 15.2 0 0 1 4.41-.66 15.015 15.015 0 0 1 14.32 10.61l39.05 127.56.62 2h2.08Z"})),yn||(yn=r.createElement("path",{fill:"#1976d2",d:"M122.68 127.82a9.02 9.02 0 0 1-8.61-6.366l-12.88-42.072a9 9 0 0 1 5.97-11.24L283.1 14.278a9.01 9.01 0 0 1 11.24 5.971l12.88 42.072a9.01 9.01 0 0 1-5.97 11.241l-175.94 53.864a9 9 0 0 1-2.63.395"})),gn||(gn=r.createElement("circle",{cx:190.154,cy:24.955,r:20,fill:"#1976d2"})),hn||(hn=r.createElement("circle",{cx:190.154,cy:24.955,r:12.665,fill:"#fff"})),xn||(xn=r.createElement("path",{fill:"#e6e6e6",d:"M602.636 582.174h-338a8.51 8.51 0 0 1-8.5-8.5v-405a8.51 8.51 0 0 1 8.5-8.5h338a8.51 8.51 0 0 1 8.5 8.5v405a8.51 8.51 0 0 1-8.5 8.5"})),Cn||(Cn=r.createElement("path",{fill:"#3f3d56",d:"M447.136 140.174h-210.5a17.024 17.024 0 0 0-17 17v407.8l2-.61v-407.19a15.02 15.02 0 0 1 15-15h211.12Zm183.5 0h-394a17.024 17.024 0 0 0-17 17v458a17.024 17.024 0 0 0 17 17h394a17.024 17.024 0 0 0 17-17v-458a17.024 17.024 0 0 0-17-17m15 475a15.02 15.02 0 0 1-15 15h-394a15.02 15.02 0 0 1-15-15v-458a15.02 15.02 0 0 1 15-15h394a15.02 15.02 0 0 1 15 15Z"})),En||(En=r.createElement("path",{fill:"#1976d2",d:"M525.636 184.174h-184a9.01 9.01 0 0 1-9-9v-44a9.01 9.01 0 0 1 9-9h184a9.01 9.01 0 0 1 9 9v44a9.01 9.01 0 0 1-9 9"})),wn||(wn=r.createElement("circle",{cx:433.636,cy:105.174,r:20,fill:"#1976d2"})),On||(On=r.createElement("circle",{cx:433.636,cy:105.174,r:12.182,fill:"#fff"})))};var _n=t(2646),In=t(3369),kn=t(4951);function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dn.apply(null,arguments)}function Tn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Tn(Object(t),!0).forEach((function(n){Nn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Nn(e,n,t){return(n=function(e){var n=function(e){if("object"!=Bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Bn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bn(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Mn=function(){var e=(0,a.A)((function(e){return e.selected})),n=cr((function(e){return e.setPropsPanelVisible}));return r.createElement(ie.A,{display:"flex",alignItems:"center",paddingLeft:"10px",height:25},r.createElement(Z.A,{fontWeight:1e3,fontSize:13,flex:1},e),r.createElement(In.A,{sx:{fontSize:13,mr:1,cursor:"pointer"},onClick:function(){return n(!1)}}))},Ln=function(e){var n=e.widget,t=e._key,o=e.name,i=e.schemaNode,a=e.widgetProps,l=e.accept,c=e.hidden,u=_e[n]||function(){return"not support yet"},s=i.id,p=(0,C.YH)((function(e){return e.plainSchema[s].state[t]})),f=(0,Ie.L)((function(e){return e.setState})),m=(0,C.YH)((function(e){return e.updateNode})),d=(0,Ie.L)((0,kn.k)((function(e){return zn({},e[i.id])}))),b=(0,r.useCallback)((function(e){var n=(0,G.rG)(e,l);f(s,Nn({},t,n)),m(s,{state:Nn({},t,e)})}),[f,t,m,s,l]),v=zn({},a);"editor"!==n&&"input"!==n&&delete v.tipProps;var A=c;return"function"==typeof c&&(A=c(d)),A?null:r.createElement("div",{className:x["props-panel-item"],onKeyDown:function(e){return e.stopPropagation()}},r.createElement(_n.A,{title:t,placement:"left-end",arrow:!0},r.createElement("div",{className:x["props-panel-item-label"]},r.createElement(Z.A,{fontSize:12},o))),r.createElement("div",{className:x["props-panel-item-widget"]},r.createElement(u,Dn({value:p,onChange:b},v))))},Rn=function(e){return r.createElement(ie.A,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:"20px",height:"300px"},r.createElement(jn,{width:120,preserveAspectRatio:"xMidYMid meet"}),r.createElement(Z.A,{variant:"caption"},"未选择组件"))},Fn=function(e){var n=e.children,t=e.title,o=e.onAdd;return r.createElement("div",{className:x["panel-section"]},r.createElement("div",{className:x["panel-section-title"]},r.createElement(Z.A,{fontSize:13,fontWeight:500},t),o&&r.createElement("span",{className:x["panel-section-title-add"],onClick:o},r.createElement(Sn.A,{fontSize:"inherit"}))),r.createElement("div",{className:x["panel-section-content"]},n))};const Hn=function(){var e,n=(0,a.A)((function(e){return e.selected})),t=(0,C.YH)((function(e){return e.plainSchema[n]})),o=(0,E.A)((function(e){return e[null==t?void 0:t.type]})),i=null==o?void 0:o.schema,l=!(null==i||null===(e=i.events)||void 0===e||!e.length),c=(0,ke.L)((function(e){return e.addEvent})),u=(0,ke.L)((function(e){return e.getLatestEvent})),s=(0,r.useRef)(null);return r.createElement("div",{className:x["props-panel"]},r.createElement("div",{className:x["props-panel-inner"]},r.createElement(Mn,null),r.createElement(ae.A,null),n&&o?r.createElement(r.Fragment,null,r.createElement(Fn,{key:"content",title:"内容"},function(e,n){var t=e.attributes,o=void 0===t?[]:t;return r.createElement("div",{className:x["items-container"]},o.map((function(e){var t=zn(zn({},e),{},{_key:e.key});return r.createElement(Ln,Dn({},t,{schemaNode:n}))})))}(i,t)),l&&r.createElement(r.Fragment,null,r.createElement(ae.A,null),r.createElement(Fn,{key:"event",title:"事件",onAdd:function(){c(n,fn(t.type));var e=u(n);setTimeout((function(){var n;null===(n=s.current)||void 0===n||n.openEventPanel(e.id)}))}},r.createElement(bn,{ref:s})))):r.createElement(Rn,null)))};var Wn=t(9168);function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Gn.apply(null,arguments)}function Un(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Un(Object(t),!0).forEach((function(n){Xn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Un(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Xn(e,n,t){return(n=function(e){var n=function(e){if("object"!=Yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Yn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yn(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const qn=function(){var e=(0,Wn.V)((function(e){return{isDragging:e.isDragging(),currentOffset:e.getSourceClientOffset(),item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialClientOffset()}})),n=(e.isDragging,e.currentOffset),t=e.item,o=(e.itemType,e.initialOffset,null==t?void 0:t.type),i=null==t?void 0:t.source,a=(0,E.A)((function(e){return e[o]})),l=(0,Ie.L)((function(e){return e[null==t?void 0:t.id]}));if(i!==Re.qR.COMPONENT_PANEL)return null;var c=null==a?void 0:a.RawComponent;if(!t||!c)return null;var u=(0,G.lt)(null==a?void 0:a.schema);i===Re.qR.CANVAS&&(u=Vn({},l));var s=n||{x:0,y:0},p=s.x,f=s.y,m=t.layout,d={width:m.width*(0,G.We)(),height:m.height*Re.of};return r.createElement("div",{style:Vn(Vn({position:"fixed",left:p,top:f,pointerEvents:"none",zIndex:1e3,cursor:"grabbing"},d),{},{opacity:".5"})},r.createElement(c,Gn({},u,{_preview:!0})))};var Kn=t(5457),Zn=t(693),$n=t(9886),Qn=t(3589),Jn=t(2744),et=t(2592),nt=t(6440),tt=t(3553),rt=t(2921),ot=t(188),it=t(8768),at={};at.styleTagTransform=y(),at.setAttributes=d(),at.insert=f().bind(null,"head"),at.domAPI=s(),at.insertStyleElement=v(),c()(it.A,at);const lt=it.A&&it.A.locals?it.A.locals:void 0;var ct=t(647),ut=t(1707);function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function pt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ft(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pt(Object(t),!0).forEach((function(n){mt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function mt(e,n,t){return(n=function(e){var n=function(e){if("object"!=st(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=st(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==st(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function dt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return bt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?bt(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vt.apply(null,arguments)}var At=function(e){var n=e.componentInfo,t=n.RawComponent,o=n.schema,i=(0,G.lt)(o),a=40*(o.layout.aspectRatio||2);return r.createElement("div",{className:lt["preview-container"],style:{width:a,height:40}},r.createElement(t,vt({},i,{_preview:!0})))},yt=function(e){var n=e.componentInfo,t=n.schema,o=t.type,i=(t.cover,t.name),a=t.layout,l=(0,ut.A)((function(e){return e.markDragging})),c=(0,ut.A)((function(e){return e.markDragEnd})),u=dt((0,ot.i)((function(){return{type:Re.QF.COMPONENT,collect:function(e){return{isDragging:e.isDragging(),cursorOffset:e.getInitialClientOffset}},item:function(e){var n={type:o,name:i,itemType:Re.QF.COMPONENT,layout:ft({},a),source:Re.qR.COMPONENT_PANEL,schema:t};return l(ft({},n)),n},end:function(e,n){c()}}}),[t,l]),3),s=u[0].isDragging,p=u[1],f=u[2];return(0,r.useEffect)((function(){var e=(0,ct.n)();e.style.cursor="grabbing",f(e,{captureDraggingState:!1})}),[s]),r.createElement("div",{ref:p,style:{opacity:s?"0.5":"1",cursor:s?"grabbing":"grab"},className:lt["component-card"]},r.createElement("div",{className:lt["component-card-thumbnail"]},r.createElement(At,{componentInfo:n})),r.createElement("div",{className:lt["component-card-name"]},i))};var gt=t(8907),ht=t(8090),xt=t(2968),Ct=t(1271),Et=t(7958),wt=t(9102),Ot=t(9572);function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Pt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||_t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,n){if(e){if("string"==typeof e)return It(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?It(e,n):void 0}}function It(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kt.apply(null,arguments)}function Bt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bt(Object(t),!0).forEach((function(n){Tt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Tt(e,n,t){return(n=function(e){var n=function(e){if("object"!=St(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=St(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==St(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var zt=(0,gt.Ay)(ht.M1)((function(e){var n=e.theme;return Dt(Tt(Tt(Tt({},"& .".concat(xt.m.content),Tt({borderRadius:n.spacing(.5),padding:n.spacing(.5,1),margin:n.spacing(.2,0)},"& .".concat(xt.m.label),{fontSize:"0.8rem",fontWeight:500})),"& .".concat(xt.m.iconContainer),Dt(Dt({borderRadius:"50%",backgroundColor:n.palette.primary.dark,padding:n.spacing(0,1.2)},n.applyStyles("light",{backgroundColor:(0,wt.X4)(n.palette.primary.main,.25)})),n.applyStyles("dark",{color:n.palette.primary.contrastText}))),"& .".concat(xt.m.groupTransition),{marginLeft:16,paddingLeft:10,borderLeft:"1px dashed ".concat((0,wt.X4)(n.palette.text.primary,.4))}),n.applyStyles("light",{color:n.palette.grey[800]}))})),Nt=r.forwardRef((function(e,n){var t=(0,a.A)((function(e){return e.setHovered}));return r.createElement(zt,kt({},e,{ref:n,slotProps:{root:{onMouseOverCapture:function(){t(e.itemId)}}}}))}));var Mt=(0,rt.v)((function(e,n){return{actived:"addUI",open:!1,setActived:function(n){return e({actived:n})},setOpen:function(n){return e({open:n})}}})),Lt=[{id:"addUI",name:"物料库",icon:r.createElement(Jn.A,null),component:function(){var e=(0,E.A)(),n={};return Object.keys(e).forEach((function(t){var r=e[t];"function"!=typeof r&&(n[t]=r)})),r.createElement("div",{className:lt["components-panel"]},Object.entries(n).map((function(e){var n=dt(e,2),t=n[0],o=n[1];return r.createElement(yt,{key:t,componentInfo:o})})))}},{id:"componentTree",name:"组件树",icon:r.createElement(et.A,null),component:function(){var e=(0,C.YH)((0,kn.k)((function(e){return{schema:e.schema,plainSchema:e.plainSchema}}))),n=e.schema,t=e.plainSchema,o=(0,a.A)((0,kn.k)((function(e){return{selected:e.selected,setSelected:e.setSelected,setHovered:e.setHovered}}))),i=o.selected,l=o.setSelected,c=o.setHovered,u=jt((0,r.useReducer)((function(e){return e+1}),0),2),s=(u[0],u[1],jt((0,r.useMemo)((function(){var e={};return[[(0,C.mx)(n,(function(n,t){var r=Dt(Dt({},n),{},{label:n.id,path:t});return e[n.id]=r,r}))],e]}),[t,n]),2)),p=s[0],f=s[1],m=jt((0,r.useState)([]),2),d=m[0],b=m[1];return(0,r.useEffect)((function(){var e=f[i];e&&b((0,Et.A)([].concat(Pt(d),Pt(e.path),[i])))}),[i,t]),r.createElement(ie.A,null,r.createElement(Ct.K,{slots:{item:Nt},items:p,selectedItems:i,expandedItems:d,onExpandedItemsChange:function(e,n){b(n)},onSelectedItemsChange:function(e,n){l(n),(0,Ot.jX)(n)||(0,G.Rt)(n)},onMouseOut:function(){return c("")}}))}}];const Rt=function(){var e=Mt((0,kn.k)((function(e){return{actived:e.actived,open:e.open,setOpen:e.setOpen,setActived:e.setActived}}))),n=e.actived,t=e.open,o=e.setOpen,i=e.setActived,a=(0,r.useMemo)((function(){return t?160:60}),[t]);return r.createElement(Qn.Ay,{onClose:function(){return o(!1)},open:t,sx:{width:a,overflow:"hidden",transition:"width .3s",flexShrink:0,"& .MuiDrawer-paper":{transition:"width .3s",width:a,boxSizing:"border-box",overflow:"hidden"}},variant:"permanent",anchor:"left"},r.createElement(Zn.A,{sx:{minHeight:"40px !important"}}),r.createElement(Be.A,null,r.createElement(De.Ay,null,r.createElement($n.A,{sx:{cursor:"pointer"},onClick:function(){o(!t)}},t?r.createElement(tt.A,null):r.createElement(nt.A,null))),r.createElement(ae.A,{sx:{marginBottom:"1px"}}),Lt.map((function(e,t){var o=e.name,a=e.id,l=e.icon;return r.createElement(De.Ay,{key:a,disablePadding:!0,sx:{whiteSpace:"nowrap"}},r.createElement(ze.A,{onClick:function(){return i(a)},style:{backgroundColor:n===a?"var(--container-bg-hover-1)":""}},r.createElement($n.A,null,l),r.createElement(Ne.A,{primary:r.createElement(Z.A,{fontSize:12},o)})))}))))},Ft=function(){var e=Mt((function(e){return e.actived})),n=Mt((function(e){return e.setActived})),t=Lt.find((function(n){return n.id===e}));return r.createElement(ie.A,{display:"flex",alignItems:"center",height:30,padding:"0 12px"},r.createElement(Z.A,{fontSize:13,variant:"subtitle2",flex:1},(null==t?void 0:t.name)||""),r.createElement(In.A,{sx:{fontSize:"14px",cursor:"pointer"},onClick:function(){return n("")}}))};var Ht=t(1977),Wt=t(6457),Yt=t(2468),Gt=performance.now(),Ut=[],Vt=[],Xt=0,qt=0;function Kt(e){Vt.push(e);var n=performance.now(),t=n-Gt;Gt=n,Ut.push(t),Ut.length>60&&Ut.shift();var r=1e3/(Ut.reduce((function(e,n){return e+n}))/Ut.length);return Xt=requestAnimationFrame(Kt),++qt>=10&&(Vt.forEach((function(e){try{e(r)}catch(e){}})),qt=0),{cancel:function(e){var n=Vt.findIndex((function(n){return n===e}));n<0||(Vt.splice(n,1),0===Vt.length&&cancelAnimationFrame(Xt))},stop:function(){Vt.length=0,cancelAnimationFrame(Xt)}}}var Zt=t(6651),$t=t(665);function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function er(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jt(Object(t),!0).forEach((function(n){nr(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function nr(e,n,t){return(n=function(e){var n=function(e){if("object"!=Qt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Qt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qt(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function tr(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return rr(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rr(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const or=function(){var e=(0,Yt.A)(),n=tr((0,r.useState)(0),2),t=n[0],o=n[1];(0,r.useEffect)((function(){var e=function(e){o(e.toFixed(0))},n=Kt(e).cancel;return function(){n(e)}}),[]);var i=(0,r.useMemo)((function(){return(0,G.Vd)()}),[]),a=tr((0,r.useState)(!1),2),l=a[0],c=a[1],u=(0,$t.pn)(l,{from:{opacity:0,translateY:0},enter:{opacity:1,translateY:-10},leave:{opacity:0,translateY:0}});return r.createElement(Wt.A,{position:"fixed",sx:{top:"auto",bottom:0,zIndex:e.zIndex.drawer+1,backgroundColor:"var(--container-bg-3)"}},r.createElement(Zn.A,{style:{minHeight:20}},r.createElement(ie.A,{flex:1,position:"relative",display:"flex"},r.createElement(Z.A,{onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},fontSize:10,color:"info"},t," FPS"),u((function(e,n){return n&&r.createElement($t.CS.div,{style:er({position:"absolute",top:-60,left:-33,pointerEvents:"none"},e)},r.createElement(Zt.A,{size:10}))}))),r.createElement(Z.A,{fontSize:10,color:"textDisabled"},i.version)))};function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function lr(e,n,t){return(n=function(e){var n=function(e){if("object"!=ir(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=ir(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ir(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var cr=(0,rt.v)((function(e,n){return{propsPanel:{visible:!0},setPropsPanelVisible:function(n){return e((function(e){return e.propsPanel.visible=n,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ar(Object(t),!0).forEach((function(n){lr(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ar(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e)}))}}}));const ur=function(){var e,n,t=Mt((function(e){return e.actived})),a=(e=t,(null===(n=Lt.find((function(n){return n.id===e})))||void 0===n?void 0:n.component)||function(){return null}),l=cr((function(e){return e.propsPanel.visible})),c=cr((function(e){return e.setPropsPanelVisible}));return r.createElement("div",null,r.createElement("div",{id:"low-code-container",className:o.A["low-code-container"]},r.createElement(Rt,null),t&&r.createElement("div",{className:o.A["left-side-tool-container"]},r.createElement(Ft,null),r.createElement(ae.A,null),r.createElement(a,null)),r.createElement("div",{className:o.A["canvas-container"],id:"canvas-container"},r.createElement(i.A,null)),l&&r.createElement("div",{style:{flex:"0 0 250px"}},r.createElement(Hn,null)),r.createElement(qn,null),r.createElement(or,null)),!l&&r.createElement(Kn.A,{variant:"extended",size:"small",onClick:function(){return c(!0)},sx:{position:"fixed",right:-55,top:70,borderRadius:"5px",transition:"transform .3s",transform:"translateX(0)","&:hover":{transform:"translateX(-50px)"}}},r.createElement(Ht.A,{sx:{fontSize:"16px",mr:1}}),r.createElement(Z.A,{fontSize:11},"配置面板")))}}}]);
//# sourceMappingURL=770.4575037d278940c36ccb.js.map