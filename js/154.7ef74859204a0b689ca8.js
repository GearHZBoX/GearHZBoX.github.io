/*! For license information please see 154.7ef74859204a0b689ca8.js.LICENSE.txt */
"use strict";(self.webpackChunkhezx=self.webpackChunkhezx||[]).push([[154],{2617:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55975),o=n.n(r),i=n(87277),a=n.n(i)()(o());a.push([e.id,'.src-lowCode-propsPanel-index__items-container{display:flex;flex-direction:column}.src-lowCode-propsPanel-index__props-panel{padding:5px 0px}.src-lowCode-propsPanel-index__props-panel .MuiSelect-select{padding-left:6px}.src-lowCode-propsPanel-index__props-panel-item{display:flex;flex-wrap:nowrap;column-gap:5px;margin-bottom:20px;align-items:center;position:relative}.src-lowCode-propsPanel-index__props-panel-item-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:60px;font-family:"General Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.src-lowCode-propsPanel-index__props-panel-item-widget{flex:1 1}.src-lowCode-propsPanel-index__event-list{border:1px solid #dfdfdf;margin-bottom:10px}.src-lowCode-propsPanel-index__event-list-empty{padding:5px 10px;cursor:default}.src-lowCode-propsPanel-index__panel-section{border-bottom:1px solid var(--border-1);padding:0px 10px}.src-lowCode-propsPanel-index__panel-section-title{margin:5px 0;display:flex;align-items:center;position:relative}.src-lowCode-propsPanel-index__action-config-panel{width:220px;padding-top:5px}.src-lowCode-propsPanel-index__action-config-panel .MuiSelect-select{padding-left:6px;font-size:11px;box-sizing:border-box}.src-lowCode-propsPanel-index__action-config-panel .MuiSelect-select .MuiMenuItem-root{font-size:12px !important}.src-lowCode-propsPanel-index__action-config-panel .MuiFormLabel-root{font-size:11px}.src-lowCode-propsPanel-index__action-config-panel .MuiInputBase-root{font-size:13px}.src-lowCode-propsPanel-index__panel-section-title-add{position:absolute;right:0;font-size:14px;cursor:pointer}',"",{version:3,sources:["webpack://./src/lowCode/propsPanel/index.scss","webpack://./src/styles/abstracts/_mixins.scss"],names:[],mappings:"AAEA,+CACE,YAAA,CACA,qBAAA,CAGF,2CACE,eAAA,CAGE,6DACE,gBAAA,CAKN,gDACE,YAAA,CACA,gBAAA,CACA,cAAA,CACA,kBAAA,CAEA,kBAAA,CACA,iBAAA,CAGF,sDACE,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,UAAA,CAEA,sKACE,CAaJ,uDACE,QAAA,CAGF,0CACE,wBAAA,CACA,kBAAA,CAGF,gDACE,gBAAA,CACA,cAAA,CAGF,6CACE,uCAAA,CACA,gBAAA,CAGF,mDACE,YAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CAGF,mDACE,WAAA,CACA,eAAA,CCzEE,qEACE,gBAAA,CACA,cAAA,CACA,qBAAA,CAEA,uFACE,yBAAA,CAIJ,sEACE,cAAA,CAGF,sEACE,cAAA,CD+DN,uDACE,iBAAA,CACA,OAAA,CACA,cAAA,CACA,cAAA",sourcesContent:["@use '/src/styles/abstracts/mixins' as m;\n\n.items-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.props-panel {\n  padding: 5px 0px;\n\n  :global {\n    .MuiSelect-select {\n      padding-left: 6px;\n    }\n  }\n}\n\n.props-panel-item {\n  display: flex;\n  flex-wrap: nowrap;\n  column-gap: 5px;\n  margin-bottom: 20px;\n  /* height: 40px; */\n  align-items: center;\n  position: relative;\n}\n\n.props-panel-item-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 60px;\n  /* align-self: flex-start; */\n  font-family:\n    'General Sans',\n    -apple-system,\n    BlinkMacSystemFont,\n    'Segoe UI',\n    Roboto,\n    'Helvetica Neue',\n    Arial,\n    sans-serif,\n    'Apple Color Emoji',\n    'Segoe UI Emoji',\n    'Segoe UI Symbol';\n}\n\n.props-panel-item-widget {\n  flex: 1 1;\n}\n\n.event-list {\n  border: 1px solid #dfdfdf;\n  margin-bottom: 10px;\n}\n\n.event-list-empty {\n  padding: 5px 10px;\n  cursor: default;\n}\n\n.panel-section {\n  border-bottom: 1px solid var(--border-1);\n  padding: 0px 10px;\n}\n\n.panel-section-title {\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.action-config-panel {\n  width: 220px;\n  padding-top: 5px;\n\n  @include m.mui-adpation;\n}\n\n.panel-section-title-add {\n  position: absolute;\n  right: 0;\n  font-size: 14px;\n  cursor: pointer;\n}\n","@mixin mui-adpation {\n  :global {\n    .MuiSelect-select {\n      padding-left: 6px;\n      font-size: 11px;\n      box-sizing: border-box;\n\n      .MuiMenuItem-root {\n        font-size: 12px !important;\n      }\n    }\n\n    .MuiFormLabel-root {\n      font-size: 11px;\n    }\n\n    .MuiInputBase-root {\n      font-size: 13px;\n    }\n  }\n}"],sourceRoot:""}]),a.locals={"items-container":"src-lowCode-propsPanel-index__items-container",itemsContainer:"src-lowCode-propsPanel-index__items-container","props-panel":"src-lowCode-propsPanel-index__props-panel",propsPanel:"src-lowCode-propsPanel-index__props-panel","props-panel-item":"src-lowCode-propsPanel-index__props-panel-item",propsPanelItem:"src-lowCode-propsPanel-index__props-panel-item","props-panel-item-label":"src-lowCode-propsPanel-index__props-panel-item-label",propsPanelItemLabel:"src-lowCode-propsPanel-index__props-panel-item-label","props-panel-item-widget":"src-lowCode-propsPanel-index__props-panel-item-widget",propsPanelItemWidget:"src-lowCode-propsPanel-index__props-panel-item-widget","event-list":"src-lowCode-propsPanel-index__event-list",eventList:"src-lowCode-propsPanel-index__event-list","event-list-empty":"src-lowCode-propsPanel-index__event-list-empty",eventListEmpty:"src-lowCode-propsPanel-index__event-list-empty","panel-section":"src-lowCode-propsPanel-index__panel-section",panelSection:"src-lowCode-propsPanel-index__panel-section","panel-section-title":"src-lowCode-propsPanel-index__panel-section-title",panelSectionTitle:"src-lowCode-propsPanel-index__panel-section-title","action-config-panel":"src-lowCode-propsPanel-index__action-config-panel",actionConfigPanel:"src-lowCode-propsPanel-index__action-config-panel","panel-section-title-add":"src-lowCode-propsPanel-index__panel-section-title-add",panelSectionTitleAdd:"src-lowCode-propsPanel-index__panel-section-title-add"};const l=a},66387:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55975),o=n.n(r),i=n(87277),a=n.n(i)()(o());a.push([e.id,".src-lowCode-componentsPanel-index__components-panel {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 5px 10px;\n  row-gap: 10px;\n  width: 100%;\n  column-gap: 10px;\n}\n\n.src-lowCode-componentsPanel-index__component-card {\n  /* padding: 5px; */\n  cursor: grab;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 2px;\n  height: 65px;\n  border: 1px solid var(--border-1);\n  width: 65px;\n  /* padding: 3px; */\n}\n\n.src-lowCode-componentsPanel-index__component-card-name {\n  font-size: 10;\n  user-select: none;\n}\n\n.src-lowCode-componentsPanel-index__component-card-thumbnail {\n  /* width: 80px; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n}\n\n.src-lowCode-componentsPanel-index__custom-drag-preview {\n}\n\n.src-lowCode-componentsPanel-index__preview-container {\n  display: flex;\n  transform: scale(0.55);\n  pointer-events: none;\n}\n.src-lowCode-componentsPanel-index__preview-container > :first-child {\n  flex: 1;\n}\n","",{version:3,sources:["webpack://./src/lowCode/componentsPanel/index.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,eAAe;EACf,iBAAiB;EACjB,aAAa;EACb,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,YAAY;EACZ,YAAY;EACZ,iCAAiC;EACjC,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;AACd;;AAEA;AACA;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,oBAAoB;AACtB;AACA;EACE,OAAO;AACT",sourcesContent:[".components-panel {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 5px 10px;\n  row-gap: 10px;\n  width: 100%;\n  column-gap: 10px;\n}\n\n.component-card {\n  /* padding: 5px; */\n  cursor: grab;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 2px;\n  height: 65px;\n  border: 1px solid var(--border-1);\n  width: 65px;\n  /* padding: 3px; */\n}\n\n.component-card-name {\n  font-size: 10;\n  user-select: none;\n}\n\n.component-card-thumbnail {\n  /* width: 80px; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n}\n\n.custom-drag-preview {\n}\n\n.preview-container {\n  display: flex;\n  transform: scale(0.55);\n  pointer-events: none;\n}\n.preview-container > :first-child {\n  flex: 1;\n}\n"],sourceRoot:""}]),a.locals={"components-panel":"src-lowCode-componentsPanel-index__components-panel",componentsPanel:"src-lowCode-componentsPanel-index__components-panel","component-card":"src-lowCode-componentsPanel-index__component-card",componentCard:"src-lowCode-componentsPanel-index__component-card","component-card-name":"src-lowCode-componentsPanel-index__component-card-name",componentCardName:"src-lowCode-componentsPanel-index__component-card-name","component-card-thumbnail":"src-lowCode-componentsPanel-index__component-card-thumbnail",componentCardThumbnail:"src-lowCode-componentsPanel-index__component-card-thumbnail","custom-drag-preview":"src-lowCode-componentsPanel-index__custom-drag-preview",customDragPreview:"src-lowCode-componentsPanel-index__custom-drag-preview","preview-container":"src-lowCode-componentsPanel-index__preview-container",previewContainer:"src-lowCode-componentsPanel-index__preview-container"};const l=a},70078:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55975),o=n.n(r),i=n(87277),a=n.n(i)()(o());a.push([e.id,".src-lowCode-builtIn-components-Popper-index__popper-container{padding:3px 18px;background-color:var(--container-bg-2);box-shadow:0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12);border-radius:5px}.src-lowCode-builtIn-components-Popper-index__popper-title{border-bottom:1px solid #dfdfdf;display:flex;align-items:center;position:relative;height:25px}.src-lowCode-builtIn-components-Popper-index__popper-close-icon{position:absolute;font-size:small;right:0;cursor:pointer}.src-lowCode-builtIn-components-Popper-index__popper-body{padding:10px 0}","",{version:3,sources:["webpack://./src/lowCode/builtIn/components/Popper/index.scss"],names:[],mappings:"AAAA,+DACE,gBAAA,CACA,sCAAA,CACA,0GACE,CAKF,iBAAA,CAGF,2DACE,+BAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,WAAA,CAGF,gEACE,iBAAA,CACA,eAAA,CACA,OAAA,CACA,cAAA,CAGF,0DACE,cAAA",sourcesContent:[".popper-container {\n  padding: 3px 18px;\n  background-color: var(--container-bg-2);\n  box-shadow:\n    0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  // min-width: 100px;\n  // min-height: 50px;\n  border-radius: 5px;\n}\n\n.popper-title {\n  border-bottom: 1px solid #dfdfdf;\n  display: flex;\n  align-items: center;\n  position: relative;\n  height: 25px;\n}\n\n.popper-close-icon {\n  position: absolute;\n  font-size: small;\n  right: 0;\n  cursor: pointer;\n}\n\n.popper-body {\n  padding: 10px 0;\n}\n"],sourceRoot:""}]),a.locals={"popper-container":"src-lowCode-builtIn-components-Popper-index__popper-container",popperContainer:"src-lowCode-builtIn-components-Popper-index__popper-container","popper-title":"src-lowCode-builtIn-components-Popper-index__popper-title",popperTitle:"src-lowCode-builtIn-components-Popper-index__popper-title","popper-close-icon":"src-lowCode-builtIn-components-Popper-index__popper-close-icon",popperCloseIcon:"src-lowCode-builtIn-components-Popper-index__popper-close-icon","popper-body":"src-lowCode-builtIn-components-Popper-index__popper-body",popperBody:"src-lowCode-builtIn-components-Popper-index__popper-body"};const l=a},78407:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55975),o=n.n(r),i=n(87277),a=n.n(i)()(o());a.push([e.id,".src-lowCode-form-index__form-item{margin-bottom:15px}","",{version:3,sources:["webpack://./src/lowCode/form/index.scss"],names:[],mappings:"AAAA,mCACE,kBAAA",sourcesContent:[".form-item {\n  margin-bottom: 15px;\n}"],sourceRoot:""}]),a.locals={"form-item":"src-lowCode-form-index__form-item",formItem:"src-lowCode-form-index__form-item"};const l=a},83154:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ko,useLayoutStore:()=>_o});var r=n(79474),o=n(64678),i=n(76321),a=n(29135),l=n(83923),c=n.n(l),u=n(36904),s=n.n(u),p=n(38052),f=n.n(p),d=n(51203),m=n.n(d),y=n(95447),v=n.n(y),b=n(612),h=n.n(b),g=n(2617),A={};A.styleTagTransform=h(),A.setAttributes=m(),A.insert=f().bind(null,"head"),A.domAPI=s(),A.insertStyleElement=v(),c()(g.A,A);const x=g.A&&g.A.locals?g.A.locals:void 0;var w=n(91581),E=n(44751),O=n(64999),C=n(393),S=["value","onChange","options"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(null,arguments)}var P=n(22638),_=n(22998),k=n(87389),I=n(56907),z=n(74432),L=n(11600),D=n(83129),T=n(90570),B=n(39291),M=n(86430);function N(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return(t=function(e){var t=function(e){if("object"!=W(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}var Y=P.Lz.theme({"&":{fontSize:"12px"},".cm-content":{fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",lineHeight:"18px"},".cm-gutters":{fontSize:"8px"},".cm-mustache":{backgroundColor:"rgba(186,239,205, .4)",borderRadius:2,padding:"0 2px"},".cm-mustache-error":{backgroundColor:"rgba(250,219,222, .4)",borderRadius:2,padding:"0 2px"},".cm-activeLine.cm-line":{backgroundColor:"transparent"}}),U=(0,z.yU)({override:[function(e){var t,n=e.state.sliceDoc(0,e.pos),r=e.state.sliceDoc(e.pos),o=n.lastIndexOf("{{"),i=r.indexOf("}}");if(-1===o||-1===i)return null;if(e.pos<o+2||e.pos>e.pos+i)return null;var a=Math.max(o+2,n.lastIndexOf(" ")+1),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(e.includes(".")){var r=e.lastIndexOf("."),o=e.substring(0,r),i=e.endsWith(".")?"":e.substring(r+1),a=(0,B.A)(t,o);"object"!==W(a)||i in a||(n=(0,M.A)(Reflect.ownKeys(a).map((function(e){if("string"==typeof e)return a[e],{label:"".concat(o,".").concat(e),displayLabel:e,boost:20}}))))}else n=Reflect.ownKeys(t).map((function(e){return"object"===W(t[e])?{label:"".concat(e,"."),boost:20}:{label:e,boost:20}}));return(0,B.A)(t,e),n.filter((function(t){return t.label.startsWith(e)}))}(n.substring(a),G(G({},(0,L.uA)()),{}));return{from:a,to:e.pos,validFor:/^\w*$/,options:[].concat(N(l),N(_.L),N((null===(t=(0,_.$k)(e))||void 0===t?void 0:t.options)||[]))}}],activateOnTyping:!0,activateOnCompletion:function(e){return!0}}),q=n(96296),V={};V.styleTagTransform=h(),V.setAttributes=m(),V.insert=f().bind(null,"head"),V.domAPI=s(),V.insertStyleElement=v(),c()(q.A,V);const Q=q.A&&q.A.locals?q.A.locals:void 0;var $=n(40076),K=n(70078),X={};X.styleTagTransform=h(),X.setAttributes=m(),X.insert=f().bind(null,"head"),X.domAPI=s(),X.insertStyleElement=v(),c()(K.A,X);const Z=K.A&&K.A.locals?K.A.locals:void 0;var J=n(24711),ee=n(57918),te=n(49404),ne=n(62411),re=n(75076),oe=n(16708);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(null,arguments)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e,t,n){return(t=function(e){var t=function(e){if("object"!=ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ie(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue=function(e){var t=e.open,n=e.transition,o=void 0===n||n,i=e.title,a=e.showClose,l=void 0===a||a,c=e.anchorEl,u=e.placement,s=e.onOpenChange,p=e.children,f=e.offset,d=void 0===f?[0,0]:f,m=e.width,y=e.style,v=void 0===y?{}:y,b=e.disablePadding,h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v);return(0,re.A)(m)||(h.width=m),b&&(h.padding=0),r.createElement(J.A,{open:t,transition:o,anchorEl:c,placement:u,sx:{zIndex:20},modifiers:[{name:"offset",options:{offset:d}}]},(function(e){var t=e.TransitionProps;return r.createElement(ee.A,ae({},t,{timeout:200}),r.createElement("div",{className:Z["popper-container"],style:h},(i||l)&&r.createElement("div",{className:Z["popper-title"]},i&&r.createElement(te.A,{variant:"subtitle2",sx:{color:"var(--text-input-2)"}},i),l&&r.createElement("span",{className:Z["popper-close-icon"],onClick:function(){null==s||s(!1)}},r.createElement(ne.A,{fontSize:"inherit"}))),r.createElement("div",{className:Z["popper-body"],style:(0,oe.A)(h,"padding")},p)))}))};var se=n(19730),pe=n(97988);const fe=function(e){var t=e.titles,n=e.description,o=e.example,i=e.onClick,a=e.onMouseDown,l=t&&(n||o);return r.createElement(se.A,{onClick:i,onMouseDown:a,sx:{minWidth:"50px",backgroundColor:"var(--container-bg-4)"}},r.createElement(se.A,{sx:{p:"5px 10px",display:"flex"}},t&&t.map((function(e,n){return r.createElement(se.A,{display:"flex",alignItems:"center",key:e},r.createElement(te.A,{variant:"button",fontSize:"12px"},e),n<t.length-1&&r.createElement(pe.A,{orientation:"vertical",sx:{m:"0 10px"}}))}))),l&&r.createElement(pe.A,null),n&&r.createElement(se.A,{sx:{p:"5px 10px",display:"flex"}},r.createElement(te.A,{fontSize:"12px"},n)),o&&r.createElement(se.A,{p:"5px"},r.createElement(se.A,null,r.createElement(te.A,{fontSize:12},"示例")),r.createElement(se.A,null,r.createElement(te.A,{fontSize:11},o))))};function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(null,arguments)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ae=k.w4.of([{key:"Mod-Shift-i",mac:"Cmd-Shift-i",run:function(e){return(0,z.rB)(e),!0},stopPropagation:!0,preventDefault:!0}]),xe=P.NZ.mark({class:"cm-mustache",attributes:{title:"Mustache template"}}),we=P.NZ.mark({class:"cm-mustache-error",attributes:{title:"Mustche template error"}}),Ee=k.Lz.decorations.compute(["doc"],(function(e){var t=new P.vB,n=e.doc.toString();if(!/\{\{([\s\S]*?)\}\}/.test(n))return t.finish();var r=he((0,L.Wo)(n),3),o=(r[0],r[1],r[2]);return(0,D.A)(o.reverse(),(function(e){var n=e.index,r=e.index+e.expressionWithBracket.length;t.add(n,r,e.err?we:xe)})),t.finish()}));const Oe=function(e){var t,n=e.id,o=e.value,i=e.onChange,a=e.name,l=e.style,c=e.hideLineNo,u=void 0!==c&&c,s=e.tipProps,p=e.lineWrapping,f=void 0===p||p,d=(0,r.useCallback)((function(e,t){i({target:{name:a,value:e}},e)}),[i,a]),m=(0,r.useCallback)((function(e){(0,$.cu)((function(){(0,z.rB)(k.Lz.findFromDOM(e.target))})),h(!0)}),[]),y=(0,r.useCallback)((function(e){h(!1)}),[]),v=he((0,r.useState)(!1),2),b=v[0],h=v[1],g=(0,r.useRef)(null),A=(0,r.useMemo)((function(){var e={"&":ve({fontSize:"12px"},l),".cm-content":{fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",lineHeight:"18px"},".cm-gutters":{fontSize:"8px",display:u?"none":""},".cm-mustache":{backgroundColor:"rgba(186,239,205, .4)",borderRadius:2,padding:"0 2px"},".cm-mustache-error":{backgroundColor:"rgba(250,219,222, .4)",borderRadius:2,padding:"0 2px"},".cm-activeLine.cm-line":{backgroundColor:"transparent"}};return k.Lz.theme(e)}),[u,l]),x=(0,I.A)((function(e){return e.theme})),w=(0,r.useMemo)((function(){return!(0,T.A)(s)}),[s]),E=(0,r.useMemo)((function(){var e=[(0,_.Q2)({jsx:!0}),A,U,Ee,Ae];return f&&e.push(k.Lz.lineWrapping),e}),[f]);return r.createElement("div",{className:Q["code-editor-container"]},r.createElement(P.Ay,{id:n,value:o,extensions:E,onChange:d,onFocus:m,onBlur:y,theme:x}),r.createElement("div",{ref:g}),w&&r.createElement(ue,{open:b,onOpenChange:function(e){return h(e)},anchorEl:g.current,showClose:!1,offset:[0,5],width:null===(t=g.current)||void 0===t?void 0:t.offsetWidth,style:{borderRadius:"3px",backgroundColor:"transparent"},disablePadding:!0},r.createElement(fe,me({},s,{onMouseDown:function(e){e.preventDefault()}}))))};var Ce=["value","onChange"];function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(null,arguments)}var je=n(88058),Pe=["value","onChange"];function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(null,arguments)}var ke=n(93554),Ie=n(83132),ze=n(71078),Le=n(98051),De=n(7796),Te=n(2122),Be=n(29028),Me=n(37709),Ne=n(72185),Fe=n(39392),Re=n(48607);function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ge(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ge(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const qe=function(e){var t,n,o=e.fields,i=e.value,a=e.onChange,l=(0,r.useCallback)((0,Fe.A)(a),[a]),c=(t=(0,r.useReducer)((function(e){return e+1}),0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=(c[0],c[1]),s=(0,r.useRef)({initialValues:We({},i),values:We({},i),setValue:function(e,t){(0,Re.A)(s.current.values,e,t),u(),l(s.current.values)}}),p=(0,r.useCallback)((function(e,t){s.current.setValue(e,t)}),[]);return r.createElement(se.A,{width:200,display:"flex",flexDirection:"column",rowGap:"5px"},(0,Ne.A)(o,(function(e){var t=e.field,n=e.widget,o=e.label,i=ut[n];return r.createElement(se.A,{key:t},r.createElement(te.A,{fontSize:12},o),r.createElement(i,{value:(0,B.A)(s.current.values,t),onChange:function(e){return p(t,e)}}))})))};var Ve=n(72477),Qe=n(92938);function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Ke(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||Ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){if(e){if("string"==typeof e)return Je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return(t=function(e){var t=function(e){if("object"!=$e(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=n(19549),ot=["value","onChange","options","showOptionLabel"];function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(null,arguments)}var at=n(10844),lt=["value","onChange"];function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(null,arguments)}const ut={input:function(e){var t=e.value,n=e.onChange,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Pe);return r.createElement(je.A,_e({autoComplete:"off",fullWidth:!0,hiddenLabel:!0,size:"small",value:t,onChange:function(e){return n(e.target.value)},slotProps:{input:{style:{height:"30px",fontSize:"11px"}}}},o))},select:function(e){var t=e.value,n=e.onChange,o=e.options,i=void 0===o?[]:o,a=e.showOptionLabel,l=void 0===a||a,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ot),u=(0,Ve.w)((function(){return i.map((function(e){return r.createElement(Me.A,{key:e.value,value:e.value},r.createElement(se.A,{sx:{width:"100%",display:"flex",flexWrap:"nowrap",alignItems:"center"}},r.createElement(te.A,{sx:{font:"inherit",flex:1}},e.label),l&&r.createElement(te.A,{color:"textDisabled",sx:{fontSize:11}},e.value)))}))}),[i,l]),s=(0,r.useCallback)((function(e){return n(e.target.value)}),[n]);return r.createElement(rt.A,it({value:t,onChange:s,style:{height:"30px",fontSize:"11px"},fullWidth:!0},c,{size:"small",renderValue:function(e){return i.find((function(t){return t.value===e})).label},MenuProps:{sx:{"& .MuiMenuItem-root":{fontSize:"11px"}}}}),u)},switch:function(e){var t=e.value,n=e.onChange,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,lt);return r.createElement(at.A,ct({size:"small",checked:t,onChange:function(e){return n(e.target.checked)}},o))},editor:function(e){var t=e.value,n=e.onChange,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ce);return r.createElement(Oe,Se({value:String(t),onChange:function(e,t){return n(t)}},o,{hideLineNo:!0,style:{maxHeight:"300px",overflow:"auto"}}))},buttons:function(e){var t=e.value,n=e.onChange,o=e.options,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,S),a=(0,r.useMemo)((function(){return o.map((function(e){return r.createElement(O.A,{key:e.value,value:e.value,sx:{fontSize:"11px",width:"40px",height:"26px"}},e.label)}))}),o),l=(0,r.useCallback)((function(e,t){null!==t&&n(t)}),[n]);return r.createElement(C.A,j({value:t,exclusive:!0,onChange:l,size:"small"},i),a)},list:function(e){var t=e.value,n=e.onChange,o=e.fields,i=e.mainField,a=e.initValue,l=e.style,c=void 0===l?{}:l,u=(0,Ve.w)((function(){return t.map((function(e){return e.id?e:tt(tt({},e),{},{id:(0,$.jd)()})}))}),[t]),s=Xe((0,r.useState)(!1),2),p=s[0],f=s[1],d=Xe((0,r.useState)(!1),2),m=d[0],y=d[1],v=Xe((0,r.useState)(""),2),b=v[0],h=v[1],g=(0,r.useRef)(null),A=(0,r.useRef)(null),x=(0,r.useRef)(null),w=(0,r.useCallback)((function(){var e=a[i],t=1;if(e.endsWith("${inc}")){var r=e.replace("${inc}","");for(e=r+t;u.find((function(t){return t[i]===e}));)e=r+ ++t}u.push(tt(tt({},a),{},nt({},i,e))),n(Ke(u)),(0,$.cu)((function(){var e;null===(e=x.current)||void 0===e||e.scrollTo({top:x.current.scrollHeight-x.current.offsetHeight})}))}),[n,u,a]);return r.createElement(se.A,{sx:{position:"relative"}},r.createElement(Ie.A,{size:"small",onClick:w,sx:{position:"relative",left:"calc(100% - 20px)"}},r.createElement(Qe.A,{sx:{fontSize:"12px"}})),r.createElement(ze.A,{disablePadding:!0,ref:x,sx:tt({border:"1px solid var(--border-1)",fontSize:"12px",borderRadius:"3px",maxHeight:"200px",overflow:"auto"},c)},!u.length&&r.createElement(Le.Ay,{disablePadding:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"26px"},onClick:w},r.createElement(te.A,{color:"textSecondary",fontSize:12,textAlign:"center"},"请添加选项")),(0,Ne.A)(u,(function(e){return r.createElement(Le.Ay,{disableGutters:!0,disablePadding:!0,key:e.id,secondaryAction:r.createElement(De.A,{onClick:function(t){y(e.id),A.current=t.currentTarget},sx:{fontSize:"12px",padding:"2px",borderRadius:"50%",paddingRight:"4px"}},r.createElement(ke.A,{fontSize:"inherit"}))},r.createElement(De.A,{onClick:function(t){f(!0),h(e.id),g.current=t.currentTarget},sx:{padding:"4px 6px",bgcolor:e.id===b?"var(--container-bg-hover-1) !important":""}},r.createElement(Te.A,{sx:{m:"0","&>.MuiTypography-root":{fontSize:"12px"}}},e[i])))}))),b&&r.createElement(ue,{title:"选项配置",open:p,onOpenChange:f,anchorEl:g.current,offset:[-200,0]},r.createElement(qe,{fields:o,key:b,value:u.find((function(e){return e.id===b})),onChange:function(e){var t=u.findIndex((function(t){return t.id===e.id})),r=Ke(u);r.splice(t,1,e),n(r)}})),r.createElement(Be.A,{open:!!m,anchorEl:A.current,onClose:function(){return y(!1)}},r.createElement(Me.A,{sx:{fontSize:"12px",color:"red"},onClick:function(){var e=u.filter((function(e){return e.id!==m}));n(e),y(!1),h("")}},"删除")))}};var st=n(63152),pt=n(40744),ft=n(76945),dt=n(64543),mt=n(16951),yt=n(78407),vt={};vt.styleTagTransform=h(),vt.setAttributes=m(),vt.insert=f().bind(null,"head"),vt.domAPI=s(),vt.insertStyleElement=v(),c()(yt.A,vt);const bt=yt.A&&yt.A.locals?yt.A.locals:void 0;var ht=n(2324);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return(t=function(e){var t=function(e){if("object"!=gt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(null,arguments)}function Ot(e){return r.createElement("div",{style:{display:"flex",alignItems:"center",columnGap:10}},r.createElement(te.A,{fontSize:12,width:50,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},e.label),r.createElement("div",{style:{flex:"1 1"}},e.children))}var Ct=["render","onChange"],St=function(e){var t=e.schema,n=e.initialValues,o=e.onChange,i=e.onSubmit,a=e.size,l=e.enableExpression,c=void 0===l||l,u=(0,mt.Wx)({initialValues:n,onSubmit:function(e,t){null==i||i(e,t)}}),s=(0,r.useRef)(u);s.current=u;var p=(0,r.useCallback)((function(e){u.handleChange(e),(0,$.cu)((function(){null==o||o(xt({},s.current.values))}))}),[o,u,u.handleChange]),f=(0,r.useMemo)((function(){return c?function(e,t){var n=new ht.A({mode:"expression"}),r={formValues:t};n.init(r);var o=/\{\{([\s\S]*?)\}\}/gi,i=(0,$.Bl)(e,(function(e,r){if("function"==typeof e&&!Ct.includes(r))return e(t);if("string"!=typeof e)return e;for(var i=e.trim(),a=null,l=i,c=[];null!==(a=o.exec(i));){var u=a[1],s=a[0],p=n.exec(u);if(s.length===i.length){l=p;break}c.push({expression:u,expressionWithBracket:s,expressionReturn:p,index:a.index})}return c.length&&c.reverse().forEach((function(e){var t=l.substring(0,e.index),n=l.substring(e.index+e.expressionWithBracket.length,l.length);l=t+e.expressionReturn+n})),o.lastIndex=0,l}));return i.items=i.items.flat(),i}(t,s.current.values):t}),[t,c]);return(0,r.useMemo)((function(){s.current.setValues(n)}),[n]),r.createElement("div",{onKeyDown:function(e){return e.stopPropagation()}},r.createElement("form",{onSubmit:u.handleSubmit},(0,Ne.A)(null==f?void 0:f.items,(function(e){var t="".concat(e.field,"-label");return r.createElement("div",{className:bt["form-item"],key:e.field||e.key},function(e,t,n){var o=e.type,i=e.field,a=e.label,l=e.options,c=(e.labelId,e.size),u=void 0===c?"small":c,s=e.hidden,p=e.render,f=e.onChange;if(s)return null;if("function"==typeof p)return p(e,t);var d=null,m={id:i,name:i,value:(0,B.A)(t.values,i,""),onChange:function(e){n(e),null==f||f(e,t)},size:u};switch(o){case dt.sH.INPUT:d=r.createElement(Ot,{label:a},r.createElement(je.A,Et({},m,{hiddenLabel:!0,fullWidth:!0})));break;case dt.sH.SELECT:var y=(0,Ne.A)(l,(function(e){var t=e.value,n=e.label;return r.createElement(Me.A,{key:t,value:t},n)}));m.children=y,d=r.createElement(Ot,{label:a},r.createElement(rt.A,Et({style:{height:"30px",fontSize:"11px"}},m,{hiddenLabel:!0,fullWidth:!0,MenuProps:{sx:{"& .MuiMenuItem-root":{fontSize:"12px"}}}})));break;case dt.sH.SWITCH:d=r.createElement(Ot,{label:a},r.createElement(at.A,m));break;case dt.sH.EDITOR:d=r.createElement(Ot,{label:a},r.createElement(Oe,Et({},m,{hideLineNo:!0})))}return d}(xt(xt({},e),{},{labelId:t,size:a}),u,p))}))))},jt=n(66482),Pt=n(4373);function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||It(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){if(e){if("string"==typeof e)return zt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return(t=function(e){var t=function(e){if("object"!=_t(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_t(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=function(e){var t,n=(E.A.getState()[e]||{}).schema,r=null==n||null===(t=n.events)||void 0===t?void 0:t[0].type;return r?{type:r,action:{type:ft.X2.NOTIFY,options:{sourceCode:"{{(function () {\n  console.log('hello');\n  console.log('current time is', Date.now());\n})()}}",notifyContent:"你好 {{current_user.username}}",notifyVariant:"info",navigationLink:"https://example.com",navigationType:"_blank",navigationFeature:JSON.stringify({width:600,height:400,scrollbars:"yes",resizable:"yes"},null,2),notifyAnchorOrigin:"top-center"}}}:null},Mt=function(e){var t=e.id,n=e.eventId,o=(0,pt.L)((function(e){var r;if(!n)return null;var o=null===(r=e.events[t])||void 0===r?void 0:r.find((function(e){return e.id===n}));return o})),i=(0,pt.L)((function(e){return e.updateEvent})),a=(0,w.YH)((function(e){return e.plainSchema[t]})),l=(0,E.A)((function(e){return e[null==a?void 0:a.type]})).schema,c=(0,Ne.A)(l.events,(function(e){return{value:e.type,label:e.name}})),u=(0,Ve.w)((function(){return function(e){var t=e.event,n=e.eventOptions;if(!t)return{items:[]};var o,i=function(e){var t=e.event.action;if(!t)return[];if(Pt.qg[null==t?void 0:t.type])return Pt.qg[null==t?void 0:t.type];if(t.type===ft.X2.CONTROL_COMPONENT){var n=w.YH.getState().plainSchema;return[{type:dt.sH.SELECT,field:"action.options.target",label:"目标组件",options:Object.keys(n).map((function(e){return{value:e,label:e}})).filter((function(e){var t=e.value;return(0,jt.iK)(n[t].type).length})),onChange:function(e,t){t.setFieldValue("action.options.method","")}},{type:dt.sH.SELECT,field:"action.options.method",label:"调用方法",hidden:"{{!formValues.action.options.target}}",options:function(e){var t=(0,B.A)(e,"action.options.target");return t?(0,jt.iK)(n[t].type):[]}},function(e){var t=(0,B.A)(e,"action.options.target"),n=(0,B.A)(e,"action.options.method");if(console.log("here1"),!t||!n)return[];var r=(0,$.eQ)(t).methods.find((function(e){return e.type===n})).optionSchema;return(0,Ne.A)(r,(function(e){return Dt(Dt({},e),{},{field:"action.options."+e.field})}))}]}return[]}({event:t}),a=[{type:dt.sH.SELECT,field:"type",label:"事件类型",options:n},{type:dt.sH.SELECT,field:"action.type",label:"动作",options:Pt.Rj},{key:"optionDivider",render:function(e,n){var o;return r.createElement(pe.A,null,r.createElement(te.A,{variant:"caption"},"".concat(null===(o=Pt.Rj.find((function(e){var n;return e.value===(null===(n=t.action)||void 0===n?void 0:n.type)})))||void 0===o?void 0:o.label,"选项")))}}];return{items:[].concat(a,(o=i,function(e){if(Array.isArray(e))return zt(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||It(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}}({event:o,eventOptions:c})}),[o,c]),s=(0,r.useCallback)((function(e){e.action.callback&&delete e.action.callback,i(t,n,e)}),[t,n]);return r.createElement("div",{className:x["action-config-panel"]},r.createElement(St,{initialValues:o,schema:u,onChange:s,size:"small"}))},Nt=(0,r.forwardRef)((function(e,t){var n=(0,a.A)((function(e){return e.selected})),o=(0,pt.L)((function(e){return e.events[n]})),i=(0,pt.L)((function(e){return e.addEvent})),l=kt((0,r.useState)(!1),2),c=l[0],u=l[1],s=(0,r.useRef)(null),p=kt((0,r.useState)(""),2),f=p[0],d=p[1],m=(0,w.YH)((function(e){return e.plainSchema[n]})),y=(0,E.A)((function(e){return e[m.type]})),v=(0,r.useRef)(null),b=kt((0,r.useState)(!1),2),h=b[0],g=b[1],A=(0,pt.L)((function(e){return e.deleteEvent})),O=(0,r.useRef)(""),C=(0,r.useMemo)((function(){return null==o?void 0:o.find((function(e){return e.id===f}))}),[o,f]),S=(0,r.useMemo)((function(){return y.schema.events.find((function(e){return e.type===(null==C?void 0:C.type)}))}),[C,y]),j=!(null!=o&&o.length);(0,r.useEffect)((function(){return function(){u(!1),d("")}}),[n]),(0,r.useImperativeHandle)(t,(function(){return{openEventPanel:function(e){s.current=document.getElementById("event-list-item-".concat(e)),d(e),u(!0)}}}));var P=(0,r.useCallback)((function(){A(n,O.current),g(!1),O.current=""}),[n]);return r.createElement("div",{className:x["event-list"]},j?r.createElement("div",{className:x["event-list-empty"],onClick:function(e){var t=Bt(m.type);i(n,t);var r=pt.L.getState().events[n][0];s.current=e.currentTarget.parentElement,d(r.id),u(!0)}},r.createElement(te.A,{variant:"caption"},"暂无事件，点击开始事件管理")):r.createElement(ze.A,{sx:{p:0}},(0,Ne.A)(o,(function(e){var t=e.id,n=e.type,o=e.action,i=y.schema.events.find((function(e){return e.type===n})),a=Pt.Rj.find((function(e){return e.value===o.type}));return r.createElement(Le.Ay,{key:t,sx:{p:0},id:"event-list-item-".concat(t),secondaryAction:r.createElement(Ie.A,{edge:"end",size:"small",sx:{borderRadius:"3px"},onClick:function(e){v.current=e.currentTarget,O.current=t,g(!0),u(!1)}},r.createElement(ke.A,{sx:{fontSize:"14px"}}))},r.createElement(De.A,{sx:{pt:0,pb:0},onClick:function(e){d(t),u(!0),s.current=e.currentTarget}},r.createElement(Te.A,{primary:r.createElement(te.A,{sx:{fontSize:"12px"}},i.name)}),r.createElement(Te.A,{sx:{color:"#a1a1a1"},primary:r.createElement(te.A,{sx:{fontSize:"12px"}},null==a?void 0:a.label)})))}))),r.createElement(ue,{open:c,anchorEl:s.current,placement:"left",onOpenChange:function(e){return u(e)},title:(null==S?void 0:S.name)+"事件配置"},r.createElement(Mt,{id:n,eventId:f})),r.createElement(Be.A,{open:h,anchorEl:v.current,onClose:function(){O.current="",g(!1)}},r.createElement(Me.A,{sx:{color:"red",fontSize:"12px"},onClick:P},"删除")))}));const Ft=Nt;var Rt,Gt,Ht,Wt,Yt,Ut,qt,Vt,Qt,$t,Kt=n(52564);function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xt.apply(null,arguments)}const Zt=function(e){return r.createElement("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 647.636 632.174"},e),Rt||(Rt=r.createElement("path",{fill:"#f2f2f2",d:"M411.146 142.174h-174.51a15.02 15.02 0 0 0-15 15v387.85l-2 .61-42.81 13.11a8.007 8.007 0 0 1-9.99-5.31l-127.34-415.95a8.003 8.003 0 0 1 5.31-9.99l65.97-20.2 191.25-58.54 65.97-20.2a7.99 7.99 0 0 1 9.99 5.3l32.55 106.32Z"})),Gt||(Gt=r.createElement("path",{fill:"#3f3d56",d:"m449.226 140.174-39.23-128.14a16.994 16.994 0 0 0-21.23-11.28l-92.75 28.39-191.24 58.55-92.75 28.4a17.015 17.015 0 0 0-11.28 21.23l134.08 437.93a17.03 17.03 0 0 0 16.26 12.03 16.8 16.8 0 0 0 4.97-.75l63.58-19.46 2-.62v-2.09l-2 .61-64.17 19.65a15.015 15.015 0 0 1-18.73-9.95L2.666 136.734a14.98 14.98 0 0 1 9.95-18.73l92.75-28.4 191.24-58.54 92.75-28.4a15.2 15.2 0 0 1 4.41-.66 15.015 15.015 0 0 1 14.32 10.61l39.05 127.56.62 2h2.08Z"})),Ht||(Ht=r.createElement("path",{fill:"#1976d2",d:"M122.68 127.82a9.02 9.02 0 0 1-8.61-6.366l-12.88-42.072a9 9 0 0 1 5.97-11.24L283.1 14.278a9.01 9.01 0 0 1 11.24 5.971l12.88 42.072a9.01 9.01 0 0 1-5.97 11.241l-175.94 53.864a9 9 0 0 1-2.63.395"})),Wt||(Wt=r.createElement("circle",{cx:190.154,cy:24.955,r:20,fill:"#1976d2"})),Yt||(Yt=r.createElement("circle",{cx:190.154,cy:24.955,r:12.665,fill:"#fff"})),Ut||(Ut=r.createElement("path",{fill:"#e6e6e6",d:"M602.636 582.174h-338a8.51 8.51 0 0 1-8.5-8.5v-405a8.51 8.51 0 0 1 8.5-8.5h338a8.51 8.51 0 0 1 8.5 8.5v405a8.51 8.51 0 0 1-8.5 8.5"})),qt||(qt=r.createElement("path",{fill:"#3f3d56",d:"M447.136 140.174h-210.5a17.024 17.024 0 0 0-17 17v407.8l2-.61v-407.19a15.02 15.02 0 0 1 15-15h211.12Zm183.5 0h-394a17.024 17.024 0 0 0-17 17v458a17.024 17.024 0 0 0 17 17h394a17.024 17.024 0 0 0 17-17v-458a17.024 17.024 0 0 0-17-17m15 475a15.02 15.02 0 0 1-15 15h-394a15.02 15.02 0 0 1-15-15v-458a15.02 15.02 0 0 1 15-15h394a15.02 15.02 0 0 1 15 15Z"})),Vt||(Vt=r.createElement("path",{fill:"#1976d2",d:"M525.636 184.174h-184a9.01 9.01 0 0 1-9-9v-44a9.01 9.01 0 0 1 9-9h184a9.01 9.01 0 0 1 9 9v44a9.01 9.01 0 0 1-9 9"})),Qt||(Qt=r.createElement("circle",{cx:433.636,cy:105.174,r:20,fill:"#1976d2"})),$t||($t=r.createElement("circle",{cx:433.636,cy:105.174,r:12.182,fill:"#fff"})))};var Jt=n(52646),en=n(33369),tn=n(4951),nn=n(16388),rn=n(87754),on=n(94257);function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ln.apply(null,arguments)}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return un(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t,n){return(t=function(e){var t=function(e){if("object"!=an(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==an(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn=function(){var e=(0,a.A)((function(e){return e.selected})),t=_o((function(e){return e.setPropsPanelVisible}));return r.createElement(se.A,{display:"flex",alignItems:"center",paddingLeft:"10px",height:25},r.createElement(te.A,{fontWeight:1e3,fontSize:13,flex:1},e),r.createElement(en.A,{sx:{fontSize:13,mr:1,cursor:"pointer"},onClick:function(){return t(!1)}}))},mn=function(e){var t=e.widget,n=e._key,o=e.name,i=e.schemaNode,a=e.widgetProps,l=e.accept,c=e.hidden,u=i.id,s=ut[t]||function(){return"not support yet"},p=(0,w.YH)((function(e){return e.plainSchema[u].state[n]})),f=(0,st.L)((function(e){return e.setState})),d=(0,w.YH)((function(e){return e.updateNodePrecisely})),m=(0,st.L)((0,tn.k)((function(e){return pn({},e[i.id])}))),y=(0,r.useCallback)((function(e){var t=(0,$.rG)(e,l);f(u,fn({},n,t)),d(u,["state",n],t)}),[f,n,d,u,l]),v=pn({},a);"editor"!==t&&"input"!==t&&delete v.tipProps;var b=cn((0,r.useState)(!1),2),h=b[0],g=b[1],A=(0,r.useMemo)((function(){return"editor"!==t&&h}),[t,h]),E=(0,w.YH)((function(e){var t;return null===(t=e.plainSchema[u].widgets)||void 0===t?void 0:t[n]}));s=ut[E]||s;var O=c;return"function"==typeof c&&(O=c(m)),O?null:r.createElement("div",{className:x["props-panel-item"],onKeyDown:function(e){return e.stopPropagation()},onMouseOver:function(){return g(!0)},onMouseOut:function(){return g(!1)}},r.createElement(Jt.A,{title:n,placement:"left-end",arrow:!0},r.createElement("div",{className:x["props-panel-item-label"]},r.createElement(te.A,{fontSize:12},o))),A&&r.createElement(Ie.A,{size:"small",sx:{fontSize:12,position:"absolute",left:"45px"},onClick:function(){w.YH.getState().updateNode(u,{widgets:fn({},n,E?"":"editor")})}},E?r.createElement(rn.A,{fontSize:"inherit"}):r.createElement(nn.A,{fontSize:"inherit"})),r.createElement("div",{className:x["props-panel-item-widget"]},r.createElement(s,ln({value:p,onChange:y},v))))},yn=function(e){return r.createElement(se.A,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:"20px",height:"300px"},r.createElement(Zt,{width:120,preserveAspectRatio:"xMidYMid meet"}),r.createElement(te.A,{variant:"caption"},"未选择组件"))},vn=function(e){var t=e.children,n=e.title,o=e.onAdd;return r.createElement("div",{className:x["panel-section"]},r.createElement("div",{className:x["panel-section-title"]},r.createElement(te.A,{fontSize:13,fontWeight:500},n),o&&r.createElement("span",{className:x["panel-section-title-add"],onClick:o},r.createElement(Kt.A,{fontSize:"inherit"}))),r.createElement("div",{className:x["panel-section-content"]},t))},bn={content:{name:"内容",order:0},interaction:{name:"交互",order:5},layout:{name:"布局",order:10},spacing:{name:"间距",order:15},appearance:{name:"外观",order:20},other:{name:"其他",order:999}};const hn=function(){var e,t,n=(0,a.A)((function(e){return e.selected})),o=(0,w.YH)((function(e){return e.plainSchema[n]})),i=(0,E.A)((function(e){return e[null==o?void 0:o.type]})),l=null==i?void 0:i.schema,c=null==l||null===(e=l.attributes)||void 0===e?void 0:e.sort((function(e,t){var n,r;return(null===(n=bn[e.category])||void 0===n?void 0:n.order)-(null===(r=bn[t.category])||void 0===r?void 0:r.order)})),u=(0,on.A)(c,"category");u.other=u.undefined,delete u.undefined;var s=!(null==l||null===(t=l.events)||void 0===t||!t.length),p=(0,pt.L)((function(e){return e.addEvent})),f=(0,pt.L)((function(e){return e.getLatestEvent})),d=(0,r.useRef)(null);return r.createElement("div",{className:x["props-panel"]},r.createElement("div",{className:x["props-panel-inner"]},r.createElement(dn,null),r.createElement(pe.A,null),n&&i?r.createElement(r.Fragment,null,Object.entries(u).map((function(e){var t,n=cn(e,2),i=n[0],a=n[1];return null!=a&&a.length?r.createElement(vn,{key:i,title:null===(t=bn[i])||void 0===t?void 0:t.name},function(e,t){return r.createElement("div",{className:x["items-container"]},e.map((function(e){var n=pn(pn({},e),{},{_key:e.key});return r.createElement(mn,ln({},n,{schemaNode:t}))})))}(a,o)):null})),s&&r.createElement(r.Fragment,null,r.createElement(vn,{key:"event",title:"事件",onAdd:function(){p(n,Bt(o.type));var e=f(n);setTimeout((function(){var t;null===(t=d.current)||void 0===t||t.openEventPanel(e.id)}))}},r.createElement(Ft,{ref:d})))):r.createElement(yn,null)))};var gn=n(89168);function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xn.apply(null,arguments)}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){On(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function On(e,t,n){return(t=function(e){var t=function(e){if("object"!=An(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==An(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cn=function(){var e=(0,gn.V)((function(e){return{isDragging:e.isDragging(),currentOffset:e.getSourceClientOffset(),item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialClientOffset()}})),t=(e.isDragging,e.currentOffset),n=e.item,o=(e.itemType,e.initialOffset,null==n?void 0:n.type),i=null==n?void 0:n.source,a=(0,E.A)((function(e){return e[o]})),l=(0,st.L)((function(e){return e[null==n?void 0:n.id]}));if(i!==ft.qR.COMPONENT_PANEL)return null;var c=null==a?void 0:a.RawComponent;if(!n||!c)return null;var u=(0,$.lt)(null==a?void 0:a.schema);i===ft.qR.CANVAS&&(u=En({},l));var s=t||{x:0,y:0},p=s.x,f=s.y,d=n.layout,m={width:d.width*(0,$.We)(),height:d.height*ft.of};return r.createElement("div",{style:En(En({position:"fixed",left:p,top:f,pointerEvents:"none",zIndex:1e3,cursor:"grabbing"},m),{},{opacity:".5"})},r.createElement(c,xn({},u,{_preview:!0})))};var Sn=n(95457),jn=n(20693),Pn=n(79886),_n=n(83589),kn=n(12744),In=n(52592),zn=n(76440),Ln=n(53553),Dn=n(92921),Tn=n(80188),Bn=n(66387),Mn={};Mn.styleTagTransform=h(),Mn.setAttributes=m(),Mn.insert=f().bind(null,"head"),Mn.domAPI=s(),Mn.insertStyleElement=v(),c()(Bn.A,Mn);const Nn=Bn.A&&Bn.A.locals?Bn.A.locals:void 0;var Fn=n(647),Rn=n(51707);function Gn(e){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(e)}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return(t=function(e){var t=function(e){if("object"!=Gn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vn.apply(null,arguments)}var Qn=function(e){var t=e.componentInfo,n=t.RawComponent,o=t.schema,i=(0,$.lt)(o),a=40*(o.layout.aspectRatio||2);return r.createElement("div",{className:Nn["preview-container"],style:{width:a,height:40}},r.createElement(n,Vn({},i,{_preview:!0})))},$n=function(e){var t=e.componentInfo,n=t.schema,o=n.type,i=(n.cover,n.name),a=n.layout,l=(0,Rn.A)((function(e){return e.markDragging})),c=(0,Rn.A)((function(e){return e.markDragEnd})),u=Un((0,Tn.i)((function(){return{type:ft.QF.COMPONENT,collect:function(e){return{isDragging:e.isDragging(),cursorOffset:e.getInitialClientOffset}},item:function(e){var t={type:o,name:i,itemType:ft.QF.COMPONENT,layout:Wn({},a),source:ft.qR.COMPONENT_PANEL,schema:n};return l(Wn({},t)),t},end:function(e,t){c()}}}),[n,l]),3),s=u[0].isDragging,p=u[1],f=u[2];return(0,r.useEffect)((function(){var e=(0,Fn.n)();e.style.cursor="grabbing",f(e,{captureDraggingState:!1})}),[s]),r.createElement("div",{ref:p,style:{opacity:s?"0.5":"1",cursor:s?"grabbing":"grab"},className:Nn["component-card"]},r.createElement("div",{className:Nn["component-card-thumbnail"]},r.createElement(Qn,{componentInfo:t})),r.createElement("div",{className:Nn["component-card-name"]},i))};var Kn=n(38907),Xn=n(58090),Zn=n(92968),Jn=n(11271),er=n(87958),tr=n(89102),nr=n(59572);function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function or(e){return function(e){if(Array.isArray(e))return lr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ar(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||ar(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){if(e){if("string"==typeof e)return lr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr.apply(null,arguments)}function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){return(t=function(e){var t=function(e){if("object"!=rr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr=(0,Kn.Ay)(Xn.M1)((function(e){var t=e.theme;return sr(pr(pr(pr({},"& .".concat(Zn.m.content),pr({borderRadius:t.spacing(.5),padding:t.spacing(.5,1),margin:t.spacing(.2,0)},"& .".concat(Zn.m.label),{fontSize:"0.8rem",fontWeight:500})),"& .".concat(Zn.m.iconContainer),sr(sr({borderRadius:"50%",backgroundColor:t.palette.primary.dark,padding:t.spacing(0,1.2)},t.applyStyles("light",{backgroundColor:(0,tr.X4)(t.palette.primary.main,.25)})),t.applyStyles("dark",{color:t.palette.primary.contrastText}))),"& .".concat(Zn.m.groupTransition),{marginLeft:16,paddingLeft:10,borderLeft:"1px dashed ".concat((0,tr.X4)(t.palette.text.primary,.4))}),t.applyStyles("light",{color:t.palette.grey[800]}))})),dr=r.forwardRef((function(e,t){var n=(0,a.A)((function(e){return e.setHovered}));return r.createElement(fr,cr({},e,{ref:t,slotProps:{root:{onMouseOverCapture:function(){n(e.itemId)}}}}))}));var mr=n(3436),yr=n(20880),vr=n(43099),br=n(7043),hr={type:dt.VK.REST接口,attributes:[{field:"method",name:"方法",widget:"select",widgetProps:{options:[{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"delete",label:"DELETE"},{value:"option",label:"OPTION"}]}},{field:"url",name:"URL",widget:"editor",widgetProps:{lineWrapping:!1}},{field:"defaultRun",name:"自动执行",widget:"switch"}],conditions:{enabled:function(e){var t;return e.options.method&&(null===(t=e.options.url)||void 0===t?void 0:t.trim())}}},gr=["value","onChange","options"];function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(null,arguments)}const xr=function(e){var t=e.value,n=e.onChange,o=e.options,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,gr),a=(0,r.useCallback)((function(e){n(e.target.value)}),[n]),l=(0,Ve.w)((function(){return o.map((function(e){return r.createElement(Me.A,{key:e.value,value:e.value},e.label)}))}),[o]);return r.createElement(rt.A,Ar({fullWidth:!0,style:{height:"30px",fontSize:"11px"},size:"small",MenuProps:{sx:{"& .MuiMenuItem-root":{fontSize:"11px"}}},value:t,onChange:a},i),l)};function wr(e){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}function Er(){Er=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),l=new k(r||[]);return o(a,"_invoke",{value:S(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",m="executing",y="completed",v={};function b(){}function h(){}function g(){}var A={};u(A,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&r.call(w,a)&&(A=w);var E=g.prototype=b.prototype=Object.create(A);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,l){var c=p(e[o],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==wr(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=f;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=j(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(t,n,r);if("normal"===u.type){if(o=r.done?y:d,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function j(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(wr(t)+" is not iterable")}return h.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:h,configurable:!0}),h.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),u(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Or(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Cr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Or(i,r,o,a,l,"next",e)}function l(e){Or(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(null,arguments)}var _r={restApi:hr},kr=function(e){var t=ut[e.widget],n=e.widgetProps,o=e.queryId,i=e.field,a=(0,yr.O)((function(e){var t;return null===(t=e.queries[o])||void 0===t?void 0:t.options[i]})),l=(0,r.useCallback)((function(e){var t,n,r;yr.O.getState().setQueryOptions(o,(t={},r=e,(n=function(e){var t=function(e){if("object"!=wr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wr(t)?t:t+""}(n=i))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}),[o,i]);return r.createElement(se.A,null,r.createElement(te.A,{fontSize:12},e.name),r.createElement(se.A,{width:"203px"},r.createElement(t,Pr({},n,{value:a,onChange:l}))))},Ir=function(e){var t=e.data,n=e.error,o=(0,$.dl)(t,null,2);return r.createElement(se.A,null,(t||n)&&r.createElement(te.A,{fontSize:13,fontWeight:800,lineHeight:1.5},"执行结果"),t&&r.createElement(se.A,{height:"160px"},r.createElement(P.Ay,{height:"100%",value:o,readOnly:!0,extensions:[P.Lz.lineWrapping,Y]})),n&&r.createElement(br.A,{severity:"error"},n))},zr=function(){var e=(0,yr.O)((0,tn.k)((function(e){return{selectedQueryId:e.selectedQueryId,queries:e.queries}}))).selectedQueryId,t=(0,yr.O)((function(t){return t.queries[e]})),n=(0,yr.O)((function(t){return t.queryHandlers[e]})),o=_r[null==t?void 0:t.type]||{},i=o.conditions,a=(0,r.useMemo)((function(){return!n||!(null==i||!i.enabled)&&!i.enabled(t)}),[i,t,n]),l=Sr((0,r.useState)(!1),2),c=l[0],u=l[1],s=Sr((0,r.useState)(null),2),p=s[0],f=s[1],d=Sr((0,r.useState)(""),2),m=d[0],y=d[1];(0,r.useLayoutEffect)((function(){f(null),y("")}),[e,null==t?void 0:t.type]);var v=(0,r.useCallback)(Cr(Er().mark((function t(){var n,r,o,i;return Er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=2;break}return t.abrupt("return");case 2:if(u(!0),t.prev=3,n=yr.O.getState().queryHandlers,r=n[e]){t.next=9;break}return t.abrupt("return");case 9:if(t.prev=9,!((o=r())instanceof Promise)){t.next=17;break}return t.next=14,o;case 14:t.t0=t.sent,t.next=18;break;case 17:t.t0=o;case 18:i=t.t0,y(""),f(i),console.log("result",i),t.next=29;break;case 24:t.prev=24,t.t1=t.catch(9),y(String(t.t1)),f(null),console.error("exec query error",t.t1);case 29:return t.prev=29,u(!1),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[3,,29,32],[9,24]])}))),[e,c]),b=(0,r.useMemo)((function(){return Object.entries(dt.VK).map((function(e){var t=Sr(e,2),n=t[0];return{value:t[1],label:n}}))}),[]);return r.createElement(se.A,null,r.createElement(se.A,{sx:{mb:"5px"}},e&&r.createElement(se.A,null,r.createElement(te.A,{fontSize:12},"数据源类型"),r.createElement(se.A,null,r.createElement(xr,{value:null==t?void 0:t.type,onChange:function(t){yr.O.getState().updateQueryMeta(e,{type:t})},options:b})))),r.createElement(se.A,{display:"flex",rowGap:"5px",flexDirection:"column"},(0,Ne.A)(null==o?void 0:o.attributes,(function(t){return r.createElement(kr,Pr({key:t.field,queryId:e},t))}))),r.createElement(se.A,{display:"flex",flexDirection:"column",sx:{paddingTop:2,paddingBottom:1}},e&&r.createElement(vr.A,{variant:"contained",size:"small",onClick:v,sx:{alignSelf:"flex-end"},loading:c,disabled:a},"执行")),r.createElement(Ir,{data:p,error:m}))};function Lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tr=n(13028),Br=n(42380),Mr=n(64133),Nr=n(57684),Fr=n(89683),Rr=n(35639),Gr=n(40875),Hr=n(28257),Wr=n(41615);function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Ur(){Ur=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),l=new k(r||[]);return o(a,"_invoke",{value:S(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",m="executing",y="completed",v={};function b(){}function h(){}function g(){}var A={};u(A,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&r.call(w,a)&&(A=w);var E=g.prototype=b.prototype=Object.create(A);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,l){var c=p(e[o],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Yr(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=f;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=j(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(t,n,r);if("normal"===u.type){if(o=r.done?y:d,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function j(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Yr(t)+" is not iterable")}return h.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:h,configurable:!0}),h.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),u(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Yr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xr(i,r,o,a,l,"next",e)}function l(e){Xr(i,r,o,a,l,"throw",e)}a(void 0)}))}}var Jr=new ht.A({});function eo(){return to.apply(this,arguments)}function to(){return to=Zr(Ur().mark((function e(){var t,n,o,i,a,l,c,u,s,p,f,d=arguments;return Ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:9001,e.prev=1,n="http://localhost:".concat(t,"/js/main.js"),e.next=5,fetch(n,{headers:{origin:window.origin}}).then((function(e){return e.text()}));case 5:return o=e.sent,(i=document.createElement("iframe")).style.display="none",document.body.append(i),a=i.contentWindow,l={addEventListener:a.addEventListener.bind(a),removeEventListener:a.addEventListener.bind(a),location,postMessage:a.postMessage.bind(a),cc:ft.tE,react:r,"react-dom":Wr,ilowLib:{Button:vr.A}},c=(0,$.Sz)({self:l,window:a}),Jr.init(c),Jr.exec(o),i.remove(),u=l.cc.default,s=(0,Rr.$g)(u),p={Component:s,RawComponent:(0,Rr.Xc)(s),type:u.schema.type,schema:u.schema,mark:"debug"},window.__debugStyleElements__=(0,Gr.A)((0,Hr.A)(window.__debugStyleElements__),"dataset.ctype").reverse(),f=(0,Fr.H)(p),E.A.getState().updateComponent([p.type],f),e.abrupt("return",{});case 24:return e.prev=24,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{err:String(e.t0)});case 28:case"end":return e.stop()}}),e,null,[[1,24]])}))),to.apply(this,arguments)}var no=(0,Dn.v)((function(e,t){return{actived:"addUI",open:!1,setActived:function(t){return e({actived:t})},setOpen:function(t){return e({open:t})}}})),ro=function(){return r.createElement(se.A,{display:"flex",alignItems:"center"},r.createElement(Tr.A,null),r.createElement(te.A,{fontSize:20,fontWeight:800},"WIP"))},oo=[{id:"addUI",name:"物料库",icon:r.createElement(kn.A,null),component:function(){var e=(0,E.A)(),t={};return Object.keys(e).forEach((function(n){var r=e[n];"function"!=typeof r&&"debug"!==r.mark&&(t[n]=r)})),r.createElement("div",{className:Nn["components-panel"]},Object.entries(t).map((function(e){var t=Un(e,2),n=t[0],o=t[1];return r.createElement($n,{key:n,componentInfo:o})})))}},{id:"componentTree",name:"组件树",icon:r.createElement(In.A,null),component:function(){var e=(0,w.YH)((0,tn.k)((function(e){return{schema:e.schema,plainSchema:e.plainSchema}}))),t=e.schema,n=e.plainSchema,o=(0,a.A)((0,tn.k)((function(e){return{selected:e.selected,setSelected:e.setSelected,setHovered:e.setHovered}}))),i=o.selected,l=o.setSelected,c=o.setHovered,u=ir((0,r.useReducer)((function(e){return e+1}),0),2),s=(u[0],u[1],ir((0,r.useMemo)((function(){var e={};return[[(0,w.mx)(t,(function(t,n){var r=sr(sr({},t),{},{label:t.id,path:n});return e[t.id]=r,r}))],e]}),[n,t]),2)),p=s[0],f=s[1],d=ir((0,r.useState)([]),2),m=d[0],y=d[1];return(0,r.useEffect)((function(){var e=f[i];e&&y((0,er.A)([].concat(or(m),or(e.path),[i])))}),[i,n]),r.createElement(se.A,null,r.createElement(Jn.K,{slots:{item:dr},items:p,selectedItems:i,expandedItems:m,onExpandedItemsChange:function(e,t){y(t)},onSelectedItemsChange:function(e,t){l(t),(0,nr.jX)(t)||(0,$.Rt)(t)},onMouseOut:function(){return c("")}}))}},{id:"dataSource",name:"数据源",icon:r.createElement(mr.A,null),component:function(){var e=(0,yr.O)((0,tn.k)((function(e){return{queries:e.queries,selectedQueryId:e.selectedQueryId}}))),t=e.queries,n=e.selectedQueryId,o=(0,r.useCallback)((0,Fe.A)((function(){var e=yr.O.getState().addQuery();yr.O.setState({selectedQueryId:e})}),100),[]),i=(0,r.useCallback)((function(e){yr.O.setState({selectedQueryId:e})}),[]),a=Lr((0,r.useState)(""),2),l=a[0],c=a[1],u=Lr((0,r.useState)(null),2),s=u[0],p=u[1];return r.createElement(se.A,{sx:{display:"flex",flexDirection:"column"},onKeyDown:function(e){return e.stopPropagation()}},r.createElement(Jt.A,{title:"新增查询",placement:"bottom-start"},r.createElement(Ie.A,{onClick:o,size:"small",sx:{fontSize:"18px",alignSelf:"flex-end",position:"relative",top:"5px",right:"4px"}},r.createElement(Qe.A,{fontSize:"inherit"}))),r.createElement(se.A,{sx:{padding:2,paddingTop:"2px"}},r.createElement(ze.A,{sx:{height:"30vh",overflow:"auto",border:"1px solid var(--border-1)",borderRadius:"5px",padding:0,position:"relative"}},(0,T.A)(t)&&r.createElement(se.A,{height:"100%",sx:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(vr.A,{onClick:o,size:"small",sx:{fontSize:12},variant:"outlined"},"新建查询")),Object.values(t).map((function(e){return r.createElement(Le.Ay,{disablePadding:!0,onClick:function(){return i(e.id)},key:e.id},r.createElement(De.A,{sx:{height:30,display:"flex","&:hover":{bgcolor:"var(--container-bg-5)"},bgcolor:e.id===n?"var(--container-bg-hover-1) !important":""}},r.createElement(Te.A,null,r.createElement(te.A,{fontSize:12,width:"50px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},e.id)),r.createElement(Te.A,null,r.createElement(te.A,{fontSize:12,color:"textSecondary",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},e.name)),r.createElement(Ie.A,{size:"small",sx:{fontSize:12},onClick:function(t){t.stopPropagation(),t.preventDefault(),c(e.id),p(t.currentTarget)}},r.createElement(ke.A,{fontSize:"inherit"}))))})))),r.createElement(pe.A,null),r.createElement(se.A,{sx:{padding:2}},r.createElement(zr,null)),r.createElement(Be.A,{open:!!l,anchorEl:s,onClose:function(){return c("")}},r.createElement(Me.A,{sx:{color:"red",fontSize:11},onClick:function(){c(""),yr.O.getState().deleteQuery(l),n===l&&yr.O.setState({selectedQueryId:""})}},"删除")))}},{id:"localDebugger",name:"本地调试",icon:r.createElement(Mr.A,null),component:function(){var e=(0,I.A)((function(e){return e.isDebugging})),t=$r((0,r.useState)(""),2),n=t[0],o=t[1],i=$r((0,r.useState)(ft.O_),2),a=i[0],l=(i[1],$r((0,r.useTransition)(),2)),c=(l[0],l[1]),u="http://localhost:".concat(a),s=(0,r.useCallback)((function(e){c((function(){o(e)}))}),[]);(0,r.useEffect)((function(){if(e){var t=new WebSocket("ws://localhost:9001/ws");return t.addEventListener("message",(function(e){var t=JSON.parse(e.data);console.log("=========",t),"hash"===t.type?console.log("新的编译hash:",t.data):"ok"===t.type&&(console.log("编译成功，准备热更新"),eo().then((function(e){var t=e.err;if(t)s(t);else{s("");var n=w.YH.getState().plainSchema;w.YH.setState({plainSchema:Vr({},n)})}})))})),function(){t.close()}}}),[e]);var p=(0,r.useCallback)(function(){var e=Zr(Ur().mark((function e(t,n){var r,o;return Ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.next=3,eo(9001);case 3:if(r=e.sent,!(o=r.err)){e.next=8;break}return s(o),e.abrupt("return");case 8:s(""),e.next=12;break;case 11:E.A.getState().clearDebug();case 12:I.A.setState({isDebugging:n});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),f=(0,E.A)((0,tn.k)((function(e){return Object.values(e).filter((function(e){return"function"!=typeof e&&"debug"===e.mark}))})));return r.createElement(se.A,null,r.createElement(te.A,{padding:"20",fontSize:11},"本地开发流程：",r.createElement(Nr.A,{sx:{cursor:"pointer"},fontSize:11,onClick:function(){window.open("https://www.npmjs.com/package/ilow-cli","_blank")}},"https://www.npmjs.com/package/ilow-cli")),r.createElement(se.A,{padding:2},r.createElement(te.A,{fontSize:12,variant:"caption"},"调试模式"),r.createElement(at.A,{onChange:p,checked:e,size:"small"}),n&&r.createElement(br.A,{severity:"error"},"".concat(n," \r\n请检查你的本地开发服务器(").concat(u,")")),r.createElement(se.A,null,f.map((function(e){return r.createElement($n,{componentInfo:e,key:e.type})})))))}},{id:"aigc",name:"智能生成",icon:r.createElement(te.A,{fontSize:18,sx:{color:"inherit",display:"flex",justifyContent:"center",transform:"translateX(3px)"},fontWeight:1e3},"AI"),component:ro},{id:"setting",name:"平台设置",icon:r.createElement(Br.A,null),component:ro}];const io=function(){var e=no((0,tn.k)((function(e){return{actived:e.actived,open:e.open,setOpen:e.setOpen,setActived:e.setActived}}))),t=e.actived,n=e.open,o=e.setOpen,i=e.setActived,a=(0,r.useMemo)((function(){return n?160:60}),[n]);return r.createElement(_n.Ay,{onClose:function(){return o(!1)},open:n,sx:{width:a,overflow:"hidden",transition:"width .3s",flexShrink:0,"& .MuiDrawer-paper":{transition:"width .3s",width:a,boxSizing:"border-box",overflow:"hidden"}},variant:"permanent",anchor:"left"},r.createElement(jn.A,{sx:{minHeight:"40px !important"}}),r.createElement(ze.A,null,r.createElement(Le.Ay,null,r.createElement(Pn.A,{sx:{cursor:"pointer"},onClick:function(){o(!n)}},n?r.createElement(Ln.A,null):r.createElement(zn.A,null))),r.createElement(pe.A,{sx:{marginBottom:"1px"}}),oo.map((function(e,o){var a=e.name,l=e.id,c=e.icon;return r.createElement(Le.Ay,{key:l,disablePadding:!0,sx:{whiteSpace:"nowrap"}},r.createElement(Jt.A,{title:a,placement:"right",arrow:!0,hidden:n},r.createElement(De.A,{onClick:function(){return i(l)},style:{backgroundColor:t===l?"var(--container-bg-hover-1)":""}},r.createElement(Pn.A,null,c),r.createElement(Te.A,{primary:r.createElement(te.A,{fontSize:12},a)}))))}))))},ao=function(){var e=no((function(e){return e.actived})),t=no((function(e){return e.setActived})),n=oo.find((function(t){return t.id===e}));return r.createElement(se.A,{display:"flex",alignItems:"center",height:30,padding:"0 12px"},r.createElement(te.A,{fontSize:13,variant:"subtitle2",flex:1},(null==n?void 0:n.name)||""),r.createElement(en.A,{sx:{fontSize:"14px",cursor:"pointer"},onClick:function(){return t("")}}))};var lo=n(61977),co=n(46457),uo=n(92468),so=performance.now(),po=[],fo=[],mo=0,yo=0;function vo(e){fo.push(e);var t=performance.now(),n=t-so;so=t,po.push(n),po.length>60&&po.shift();var r=1e3/(po.reduce((function(e,t){return e+t}))/po.length);return mo=requestAnimationFrame(vo),++yo>=10&&(fo.forEach((function(e){try{e(r)}catch(e){}})),yo=0),{cancel:function(e){var t=fo.findIndex((function(t){return t===e}));t<0||(fo.splice(t,1),0===fo.length&&cancelAnimationFrame(mo))},stop:function(){fo.length=0,cancelAnimationFrame(mo)}}}var bo=n(86651),ho=n(90665);function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wo(e,t,n){return(t=function(e){var t=function(e){if("object"!=go(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==go(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Co=function(){var e=(0,uo.A)(),t=Eo((0,r.useState)(0),2),n=t[0],o=t[1];(0,r.useEffect)((function(){var e=function(e){o(e.toFixed(0))},t=vo(e).cancel;return function(){t(e)}}),[]);var i=(0,r.useMemo)((function(){return(0,$.Vd)()}),[]),a=Eo((0,r.useState)(!1),2),l=a[0],c=a[1],u=(0,ho.pn)(l,{from:{opacity:0,translateY:0},enter:{opacity:1,translateY:-10},leave:{opacity:0,translateY:0}});return r.createElement(co.A,{position:"fixed",sx:{top:"auto",bottom:0,zIndex:e.zIndex.drawer+1,backgroundColor:"var(--container-bg-3)"}},r.createElement(jn.A,{style:{minHeight:20}},r.createElement(se.A,{flex:1,position:"relative",display:"flex"},r.createElement(te.A,{onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},fontSize:10,color:"info"},n," FPS"),u((function(e,t){return t&&r.createElement(ho.CS.div,{style:xo({position:"absolute",top:-60,left:-33,pointerEvents:"none"},e)},r.createElement(bo.A,{size:10}))}))),r.createElement(te.A,{fontSize:10,color:"textDisabled"},i.version)))};function So(e){return So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(e)}function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e,t,n){return(t=function(e){var t=function(e){if("object"!=So(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=So(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==So(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _o=(0,Dn.v)((function(e,t){return{propsPanel:{visible:!0},setPropsPanelVisible:function(t){return e((function(e){return e.propsPanel.visible=t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))}}}));const ko=function(){var e,t,n=no((function(e){return e.actived})),a=(e=n,(null===(t=oo.find((function(t){return t.id===e})))||void 0===t?void 0:t.component)||function(){return null}),l=_o((function(e){return e.propsPanel.visible})),c=_o((function(e){return e.setPropsPanelVisible}));return r.createElement("div",null,r.createElement("div",{id:"low-code-container",className:o.A["low-code-container"]},r.createElement(io,null),n&&r.createElement("div",{className:o.A["left-side-tool-container"]},r.createElement(ao,null),r.createElement(pe.A,null),r.createElement(a,null)),r.createElement("div",{className:o.A["canvas-container"],id:"canvas-container"},r.createElement(i.A,null)),l&&r.createElement("div",{style:{flex:"0 0 250px"}},r.createElement(hn,null)),r.createElement(Cn,null),r.createElement(Co,null)),!l&&r.createElement(Sn.A,{variant:"extended",size:"small",onClick:function(){return c(!0)},sx:{position:"fixed",right:-55,top:70,borderRadius:"5px",transition:"transform .3s",transform:"translateX(0)","&:hover":{transform:"translateX(-50px)"}}},r.createElement(lo.A,{sx:{fontSize:"16px",mr:1}}),r.createElement(te.A,{fontSize:11},"配置面板")))}},96296:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(55975),o=n.n(r),i=n(87277),a=n.n(i)()(o());a.push([e.id,".src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor{border-radius:3px;outline:1px solid var(--border-1) !important;box-sizing:border-box;background-color:rgba(0,0,0,0) !important;cursor:text;overflow:visible}.src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor .cm-cursor{border-left-color:var(--cursor-1) !important}.src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor .ͼd{color:var(--text-input-2)}.src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor .ͼq{color:var(--text-input-2)}.src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor:hover{outline:1px solid var(--border-hover-1) !important}.src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor.cm-focused{outline:2px solid var(--border-focus-primary) !important}.src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li:hover{background-color:var(--container-bg-hover-1)}.src-lowCode-builtIn-components-CodeEditor-index__code-editor-container .cm-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li[aria-selected]{background-color:var(--container-bg-0);color:var(--text-input-0)}","",{version:3,sources:["webpack://./src/lowCode/builtIn/components/CodeEditor/index.scss"],names:[],mappings:"AAAA,mFAEI,iBAEE,CAAA,4CACA,CAAA,qBACA,CAAA,yCACA,CAAA,WACA,CAAA,gBACA,CAAA,8FAIA,4CACE,CAAA,uFAGF,yBACE,CAAA,uFAEF,yBACE,CAAA,yFAOF,kDACE,CAAA,8FAEF,wDACE,CAAA,mIAGF,4CACE,CAAA,4IAEF,sCACE,CAAA,yBACA",sourcesContent:[".code-editor-container {\n  :global {\n    .cm-editor {\n      // outline: transparent !important;\n      border-radius: 3px;\n      outline: 1px solid var(--border-1) !important;\n      box-sizing: border-box;\n      background-color: transparent !important;\n      cursor: text;\n      overflow: visible;\n      .cm-line {\n      }\n\n      .cm-cursor {\n        border-left-color: var(--cursor-1) !important;\n      }\n\n      .ͼd {\n        color: var(--text-input-2);\n      }\n      .ͼq {\n        color: var(--text-input-2);\n      }\n\n      // .cm-tooltip.cm-tooltip-autocomplete {\n      //   max-width: 1000px;\n      // }\n\n      &:hover {\n        outline: 1px solid var(--border-hover-1) !important;\n      }\n      &.cm-focused {\n        outline: 2px solid var(--border-focus-primary) !important;\n      }\n\n      .cm-tooltip.cm-tooltip-autocomplete > ul > li:hover {\n        background-color: var(--container-bg-hover-1);\n      }\n      .cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected] {\n        background-color: var(--container-bg-0);\n        color: var(--text-input-0);\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),a.locals={"code-editor-container":"src-lowCode-builtIn-components-CodeEditor-index__code-editor-container",codeEditorContainer:"src-lowCode-builtIn-components-CodeEditor-index__code-editor-container"};const l=a}}]);
//# sourceMappingURL=154.7ef74859204a0b689ca8.js.map