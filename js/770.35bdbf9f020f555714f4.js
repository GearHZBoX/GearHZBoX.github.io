"use strict";(self.webpackChunkhezx=self.webpackChunkhezx||[]).push([[770],{78:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,".src-lowCode-builtIn-components-Popper-index__popper-container{padding:3px 18px;background-color:var(--container-bg-2);box-shadow:0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12);border-radius:5px}.src-lowCode-builtIn-components-Popper-index__popper-title{border-bottom:1px solid #dfdfdf;display:flex;align-items:center;position:relative;height:40px}.src-lowCode-builtIn-components-Popper-index__popper-close-icon{position:absolute;font-size:small;right:0;cursor:pointer}.src-lowCode-builtIn-components-Popper-index__popper-body{padding:10px 0}","",{version:3,sources:["webpack://./src/lowCode/builtIn/components/Popper/index.scss"],names:[],mappings:"AAAA,+DACE,gBAAA,CACA,sCAAA,CACA,0GAAA,CAGA,iBAAA,CAGF,2DACE,+BAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,WAAA,CAGF,gEACE,iBAAA,CACA,eAAA,CACA,OAAA,CACA,cAAA,CAGF,0DACE,cAAA",sourcesContent:[".popper-container {\n  padding: 3px 18px;\n  background-color: var(--container-bg-2);\n  box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);\n  // min-width: 100px;\n  // min-height: 50px;\n  border-radius: 5px;\n}\n\n.popper-title {\n  border-bottom: 1px solid #dfdfdf;\n  display: flex;\n  align-items: center;\n  position: relative;\n  height: 40px;\n}\n\n.popper-close-icon {\n  position: absolute;\n  font-size: small;\n  right: 0;\n  cursor: pointer;\n}\n\n.popper-body {\n  padding: 10px 0;\n}"],sourceRoot:""}]),a.locals={"popper-container":"src-lowCode-builtIn-components-Popper-index__popper-container",popperContainer:"src-lowCode-builtIn-components-Popper-index__popper-container","popper-title":"src-lowCode-builtIn-components-Popper-index__popper-title",popperTitle:"src-lowCode-builtIn-components-Popper-index__popper-title","popper-close-icon":"src-lowCode-builtIn-components-Popper-index__popper-close-icon",popperCloseIcon:"src-lowCode-builtIn-components-Popper-index__popper-close-icon","popper-body":"src-lowCode-builtIn-components-Popper-index__popper-body",popperBody:"src-lowCode-builtIn-components-Popper-index__popper-body"};const l=a},2617:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,'.src-lowCode-propsPanel-index__items-container{display:flex;flex-direction:column}.src-lowCode-propsPanel-index__props-panel{padding:5px 0px}.src-lowCode-propsPanel-index__props-panel .MuiSelect-select{padding-left:6px}.src-lowCode-propsPanel-index__props-panel-item{display:flex;flex-wrap:nowrap;column-gap:5px;margin-bottom:20px;align-items:center}.src-lowCode-propsPanel-index__props-panel-item-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:80px;font-family:"General Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.src-lowCode-propsPanel-index__props-panel-item-widget{flex:1 1}.src-lowCode-propsPanel-index__event-list{border:1px solid #dfdfdf}.src-lowCode-propsPanel-index__event-list-empty{padding:5px 10px;cursor:default}.src-lowCode-propsPanel-index__panel-section{padding:0px 10px}.src-lowCode-propsPanel-index__panel-section-title{margin:5px 0;display:flex;align-items:center;position:relative}.src-lowCode-propsPanel-index__action-config-panel{width:220px;padding-top:5px}.src-lowCode-propsPanel-index__action-config-panel .MuiSelect-select{padding-left:6px;font-size:11px;box-sizing:border-box}.src-lowCode-propsPanel-index__action-config-panel .MuiSelect-select .MuiMenuItem-root{font-size:12px !important}.src-lowCode-propsPanel-index__action-config-panel .MuiFormLabel-root{font-size:11px}.src-lowCode-propsPanel-index__action-config-panel .MuiInputBase-root{font-size:13px}.src-lowCode-propsPanel-index__panel-section-title-add{position:absolute;right:0;font-size:14px;cursor:pointer}',"",{version:3,sources:["webpack://./src/lowCode/propsPanel/index.scss","webpack://./src/styles/abstracts/_mixins.scss"],names:[],mappings:"AAEA,+CACE,YAAA,CACA,qBAAA,CAGF,2CACE,eAAA,CAGE,6DACE,gBAAA,CAKN,gDACE,YAAA,CACA,gBAAA,CACA,cAAA,CACA,kBAAA,CAEA,kBAAA,CAGF,sDACE,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,UAAA,CAEA,sKAAA,CAGF,uDACE,QAAA,CAGF,0CACE,wBAAA,CAGF,gDACE,gBAAA,CACA,cAAA,CAGF,6CAEE,gBAAA,CAGF,mDACE,YAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CAGF,mDACE,WAAA,CACA,eAAA,CC5DE,qEACE,gBAAA,CACA,cAAA,CACA,qBAAA,CAEA,uFACE,yBAAA,CAIJ,sEACE,cAAA,CAGF,sEACE,cAAA,CDmDN,uDACE,iBAAA,CACA,OAAA,CACA,cAAA,CACA,cAAA",sourcesContent:['@use \'/src/styles/abstracts/mixins\' as m;\n\n.items-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.props-panel {\n  padding: 5px 0px;\n\n  :global {\n    .MuiSelect-select {\n      padding-left: 6px;\n    }\n  }\n}\n\n.props-panel-item {\n  display: flex;\n  flex-wrap: nowrap;\n  column-gap: 5px;\n  margin-bottom: 20px;\n  /* height: 40px; */\n  align-items: center;\n}\n\n.props-panel-item-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 80px;\n  /* align-self: flex-start; */\n  font-family: "General Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";\n}\n\n.props-panel-item-widget {\n  flex: 1 1;\n}\n\n.event-list {\n  border: 1px solid #dfdfdf;\n}\n\n.event-list-empty {\n  padding: 5px 10px;\n  cursor: default;\n}\n\n.panel-section {\n  // border-bottom: 1px solid #dfdfdf;\n  padding: 0px 10px;\n}\n\n.panel-section-title {\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.action-config-panel {\n  width: 220px;\n  padding-top: 5px;\n\n  \n  @include m.mui-adpation;\n}\n\n.panel-section-title-add {\n  position: absolute;\n  right: 0;\n  font-size: 14px;\n  cursor: pointer;\n}',"@mixin mui-adpation {\n  :global {\n    .MuiSelect-select {\n      padding-left: 6px;\n      font-size: 11px;\n      box-sizing: border-box;\n\n      .MuiMenuItem-root {\n        font-size: 12px !important;\n      }\n    }\n\n    .MuiFormLabel-root {\n      font-size: 11px;\n    }\n\n    .MuiInputBase-root {\n      font-size: 13px;\n    }\n  }\n}"],sourceRoot:""}]),a.locals={"items-container":"src-lowCode-propsPanel-index__items-container",itemsContainer:"src-lowCode-propsPanel-index__items-container","props-panel":"src-lowCode-propsPanel-index__props-panel",propsPanel:"src-lowCode-propsPanel-index__props-panel","props-panel-item":"src-lowCode-propsPanel-index__props-panel-item",propsPanelItem:"src-lowCode-propsPanel-index__props-panel-item","props-panel-item-label":"src-lowCode-propsPanel-index__props-panel-item-label",propsPanelItemLabel:"src-lowCode-propsPanel-index__props-panel-item-label","props-panel-item-widget":"src-lowCode-propsPanel-index__props-panel-item-widget",propsPanelItemWidget:"src-lowCode-propsPanel-index__props-panel-item-widget","event-list":"src-lowCode-propsPanel-index__event-list",eventList:"src-lowCode-propsPanel-index__event-list","event-list-empty":"src-lowCode-propsPanel-index__event-list-empty",eventListEmpty:"src-lowCode-propsPanel-index__event-list-empty","panel-section":"src-lowCode-propsPanel-index__panel-section",panelSection:"src-lowCode-propsPanel-index__panel-section","panel-section-title":"src-lowCode-propsPanel-index__panel-section-title",panelSectionTitle:"src-lowCode-propsPanel-index__panel-section-title","action-config-panel":"src-lowCode-propsPanel-index__action-config-panel",actionConfigPanel:"src-lowCode-propsPanel-index__action-config-panel","panel-section-title-add":"src-lowCode-propsPanel-index__panel-section-title-add",panelSectionTitleAdd:"src-lowCode-propsPanel-index__panel-section-title-add"};const l=a},6296:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,".cm-editor{border-radius:3px;outline:1px solid var(--border-1) !important;box-sizing:border-box;background-color:rgba(0,0,0,0) !important;cursor:text}.cm-editor .cm-cursor{border-left-color:var(--cursor-1) !important}.cm-editor .ͼd{color:var(--text-input-2)}.cm-editor .ͼq{color:var(--text-input-2)}.cm-editor:hover{outline:1px solid var(--border-hover-1) !important}.cm-editor.cm-focused{outline:2px solid var(--border-focus-primary) !important}.cm-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li:hover{background-color:var(--container-bg-hover-1)}.cm-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li[aria-selected]{background-color:var(--container-bg-0);color:var(--text-input-0)}","",{version:3,sources:["webpack://./src/lowCode/builtIn/components/CodeEditor/index.scss"],names:[],mappings:"AAAA,WACE,iBAEE,CAAA,4CACA,CAAA,qBACA,CAAA,yCACA,CAAA,WACA,CAAA,sBAIA,4CACE,CAAA,eAGF,yBACE,CAAA,eAEF,yBACE,CAAA,iBAOF,kDACE,CAAA,sBAEF,wDACE,CAAA,2DAKF,4CACE,CAAA,oEAEF,sCACE,CAAA,yBACA",sourcesContent:[":global {\n  .cm-editor {\n    // outline: transparent !important;\n    border-radius: 3px;\n    outline: 1px solid var(--border-1) !important;\n    box-sizing: border-box;\n    background-color: transparent !important;\n    cursor: text;\n    .cm-line {\n    }\n\n    .cm-cursor {\n      border-left-color: var(--cursor-1) !important;\n    }\n\n    .ͼd {\n      color: var(--text-input-2);\n    }\n    .ͼq {\n      color: var(--text-input-2);\n    }\n\n    // .cm-tooltip.cm-tooltip-autocomplete {\n    //   max-width: 1000px;\n    // }\n\n    &:hover {\n      outline: 1px solid var(--border-hover-1) !important;\n    }\n    &.cm-focused {\n      outline: 2px solid var(--border-focus-primary) !important;\n    }\n\n    \n    \n    .cm-tooltip.cm-tooltip-autocomplete > ul > li:hover {\n      background-color: var(--container-bg-hover-1);\n    }\n    .cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected] {\n      background-color: var(--container-bg-0);\n      color: var(--text-input-0);\n    }\n  }\n\n}"],sourceRoot:""}]),a.locals={};const l=a},8407:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,".src-lowCode-form-index__form-item{margin-bottom:15px}","",{version:3,sources:["webpack://./src/lowCode/form/index.scss"],names:[],mappings:"AAAA,mCACE,kBAAA",sourcesContent:[".form-item {\n  margin-bottom: 15px;\n}"],sourceRoot:""}]),a.locals={"form-item":"src-lowCode-form-index__form-item",formItem:"src-lowCode-form-index__form-item"};const l=a},8768:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(5975),o=t.n(r),i=t(7277),a=t.n(i)()(o());a.push([e.id,"\n.src-lowCode-componentsPanel-index__components-panel {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 5px 10px;\n  row-gap: 10px;\n  width: 100%;\n  column-gap: 10px;\n}\n\n.src-lowCode-componentsPanel-index__component-card {\n  /* padding: 5px; */\n  cursor: grab;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 2px;\n  height: 65px;\n  border: 1px solid var(--border-1);\n  width: 65px;\n  /* padding: 3px; */\n}\n\n.src-lowCode-componentsPanel-index__component-card-name {\n  font-size: 10;\n  user-select: none;\n}\n\n.src-lowCode-componentsPanel-index__component-card-thumbnail {\n  /* width: 80px; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n}\n\n.src-lowCode-componentsPanel-index__custom-drag-preview {\n}\n\n.src-lowCode-componentsPanel-index__preview-container {\n  transform: scale(.55);\n  pointer-events: none;\n}","",{version:3,sources:["webpack://./src/lowCode/componentsPanel/index.css"],names:[],mappings:";AACA;EACE,aAAa;EACb,eAAe;EACf,iBAAiB;EACjB,aAAa;EACb,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,YAAY;EACZ,YAAY;EACZ,iCAAiC;EACjC,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;AACd;;AAEA;AACA;;AAEA;EACE,qBAAqB;EACrB,oBAAoB;AACtB",sourcesContent:["\n.components-panel {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 5px 10px;\n  row-gap: 10px;\n  width: 100%;\n  column-gap: 10px;\n}\n\n.component-card {\n  /* padding: 5px; */\n  cursor: grab;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 2px;\n  height: 65px;\n  border: 1px solid var(--border-1);\n  width: 65px;\n  /* padding: 3px; */\n}\n\n.component-card-name {\n  font-size: 10;\n  user-select: none;\n}\n\n.component-card-thumbnail {\n  /* width: 80px; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n}\n\n.custom-drag-preview {\n}\n\n.preview-container {\n  transform: scale(.55);\n  pointer-events: none;\n}"],sourceRoot:""}]),a.locals={"components-panel":"src-lowCode-componentsPanel-index__components-panel",componentsPanel:"src-lowCode-componentsPanel-index__components-panel","component-card":"src-lowCode-componentsPanel-index__component-card",componentCard:"src-lowCode-componentsPanel-index__component-card","component-card-name":"src-lowCode-componentsPanel-index__component-card-name",componentCardName:"src-lowCode-componentsPanel-index__component-card-name","component-card-thumbnail":"src-lowCode-componentsPanel-index__component-card-thumbnail",componentCardThumbnail:"src-lowCode-componentsPanel-index__component-card-thumbnail","custom-drag-preview":"src-lowCode-componentsPanel-index__custom-drag-preview",customDragPreview:"src-lowCode-componentsPanel-index__custom-drag-preview","preview-container":"src-lowCode-componentsPanel-index__preview-container",previewContainer:"src-lowCode-componentsPanel-index__preview-container"};const l=a},9770:(e,n,t)=>{t.r(n),t.d(n,{default:()=>lr,useLayoutStore:()=>ar});var r=t(9474),o=t(4678),i=t(6321),a=t(9135),l=t(3923),c=t.n(l),u=t(6904),s=t.n(u),p=t(8052),f=t.n(p),m=t(1203),d=t.n(m),b=t(5447),v=t.n(b),A=t(612),y=t.n(A),g=t(2617),h={};h.styleTagTransform=y(),h.setAttributes=d(),h.insert=f().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=v(),c()(g.A,h);const x=g.A&&g.A.locals?g.A.locals:void 0;var C=t(1581),E=t(9258),w=t(4999),O=t(393),P=["value","onChange","options"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S.apply(null,arguments)}var j=t(2638),_=t(2998),I=t(7389),k=t(9994),B=t(4432),D=t(1600),T=t(3129),z=t(570),N=t(9291),M=t(6430);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var R=(0,B.yU)({override:[function(e){var n=e.state.sliceDoc(0,e.pos),t=e.state.sliceDoc(e.pos),r=n.lastIndexOf("{{"),o=t.indexOf("}}");if(-1===r||-1===o)return null;if(e.pos<r+2||e.pos>e.pos+o)return null;var i=Math.max(r+2,n.lastIndexOf(" ")+1),a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[];if(e.includes(".")){var r=e.lastIndexOf("."),o=e.substring(0,r),i=e.endsWith(".")?"":e.substring(r+1),a=(0,N.A)(n,o);"object"!==L(a)||i in a||(t=(0,M.A)(Reflect.ownKeys(a).map((function(e){if("string"==typeof e)return a[e],{label:"".concat(o,".").concat(e),displayLabel:e}}))))}else t=Reflect.ownKeys(n).map((function(e){return"object"===L(n[e])?{label:"".concat(e,".")}:{label:e}}));return(0,N.A)(n,e),t.filter((function(n){return n.label.startsWith(e)}))}(n.substring(i),(0,D.uA)());return{from:i,to:e.pos,options:a}}]}),F=t(6296),W={};W.styleTagTransform=y(),W.setAttributes=d(),W.insert=f().bind(null,"head"),W.domAPI=s(),W.insertStyleElement=v(),c()(F.A,W),F.A&&F.A.locals&&F.A.locals;var Y=t(76),G=t(78),H={};H.styleTagTransform=y(),H.setAttributes=d(),H.insert=f().bind(null,"head"),H.domAPI=s(),H.insertStyleElement=v(),c()(G.A,H);const U=G.A&&G.A.locals?G.A.locals:void 0;var V=t(4711),X=t(7918),q=t(9404),K=t(2411),Z=t(5076),Q=t(6708);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},J.apply(null,arguments)}function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e,n,t){return(n=function(e){var n=function(e){if("object"!=$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=$(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const te=function(e){var n=e.open,t=e.transition,o=void 0===t||t,i=e.title,a=e.showClose,l=void 0===a||a,c=e.anchorEl,u=e.placement,s=e.onOpenChange,p=e.children,f=e.offset,m=void 0===f?[0,0]:f,d=e.width,b=e.style,v=void 0===b?{}:b,A=e.disablePadding,y=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){ne(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},v);return(0,Z.A)(d)||(y.width=d),A&&(y.padding=0),r.createElement(V.A,{open:n,transition:o,anchorEl:c,placement:u,sx:{zIndex:20},modifiers:[{name:"offset",options:{offset:m}}]},(function(e){var n=e.TransitionProps;return r.createElement(X.A,J({},n,{timeout:200}),r.createElement("div",{className:U["popper-container"],style:y},(i||l)&&r.createElement("div",{className:U["popper-title"]},i&&r.createElement(q.A,{variant:"subtitle2",sx:{color:"var(--text-input-2)"}},i),l&&r.createElement("span",{className:U["popper-close-icon"],onClick:function(){null==s||s(!1)}},r.createElement(K.A,{fontSize:"inherit"}))),r.createElement("div",{className:U["popper-body"],style:(0,Q.A)(y,"padding")},p)))}))};var re=t(9730),oe=t(7988);const ie=function(e){var n=e.titles,t=e.description,o=e.example,i=e.onClick,a=e.onMouseDown,l=n&&(t||o);return r.createElement(re.A,{onClick:i,onMouseDown:a,sx:{minWidth:"50px",backgroundColor:"var(--container-bg-4)"}},r.createElement(re.A,{sx:{p:"5px 10px",display:"flex"}},n&&n.map((function(e,t){return r.createElement(re.A,{display:"flex",alignItems:"center",key:e},r.createElement(q.A,{variant:"button",fontSize:"12px"},e),t<n.length-1&&r.createElement(oe.A,{orientation:"vertical",sx:{m:"0 10px"}}))}))),l&&r.createElement(oe.A,null),t&&r.createElement(re.A,{sx:{p:"5px 10px",display:"flex"}},r.createElement(q.A,{fontSize:"12px"},t)),o&&r.createElement(re.A,{p:"5px"},r.createElement(re.A,null,r.createElement(q.A,{fontSize:12},"示例")),r.createElement(re.A,null,r.createElement(q.A,{fontSize:11},o))))};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ae.apply(null,arguments)}function le(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ce(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ce(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var ue=I.w4.of([{key:"Mod-Shift-i",mac:"Cmd-Shift-i",run:function(e){return(0,B.rB)(e),!0},stopPropagation:!0,preventDefault:!0}]),se=j.NZ.mark({class:"cm-mustache",attributes:{title:"Mustache template"}}),pe=j.NZ.mark({class:"cm-mustache-error",attributes:{title:"Mustche template error"}}),fe=I.Lz.decorations.compute(["doc"],(function(e){var n=new j.vB,t=e.doc.toString();if(!/\{\{([\s\S]*?)\}\}/.test(t))return n.finish();var r=le((0,D.Wo)(t),3),o=(r[0],r[1],r[2]);return(0,T.A)(o.reverse(),(function(e){var t=e.index,r=e.index+e.expressionWithBracket.length;n.add(t,r,e.err?pe:se)})),n.finish()}));const me=function(e){var n,t=e.id,o=e.value,i=e.onChange,a=e.name,l=e.style,c=e.hideLineNo,u=void 0!==c&&c,s=e.tipProps,p=(0,r.useCallback)((function(e,n){i({target:{name:a,value:e}},e),(0,B.rB)(n.view)}),[i,a]),f=(0,r.useCallback)((function(e){(0,Y.cu)((function(){(0,B.rB)(I.Lz.findFromDOM(e.target))})),v(!0)}),[]),m=(0,r.useCallback)((function(e){v(!1)}),[]),d=le((0,r.useState)(!1),2),b=d[0],v=d[1],A=(0,r.useRef)(null),y=(0,r.useMemo)((function(){var e={"&":{fontSize:"12px"},".cm-content":{fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",lineHeight:"18px"},".cm-gutters":{fontSize:"8px",display:u?"none":""},".cm-mustache":{backgroundColor:"rgba(186,239,205, .4)",borderRadius:2,padding:"0 2px"},".cm-mustache-error":{backgroundColor:"rgba(250,219,222, .4)",borderRadius:2,padding:"0 2px"},".cm-activeLine.cm-line":{backgroundColor:"transparent"}};return I.Lz.theme(e)}),[u]),g=(0,k.A)((function(e){return e.theme})),h=(0,r.useMemo)((function(){return!(0,z.A)(s)}),[s]);return r.createElement("div",{style:l},r.createElement(j.Ay,{id:t,value:o,extensions:[(0,_.Q2)({jsx:!0}),y,R,fe,I.Lz.lineWrapping,ue],onChange:p,onFocus:f,onBlur:m,theme:g}),r.createElement("div",{ref:A}),h&&r.createElement(te,{open:b,onOpenChange:function(e){return v(e)},anchorEl:A.current,showClose:!1,offset:[0,5],width:null===(n=A.current)||void 0===n?void 0:n.offsetWidth,style:{borderRadius:"3px",backgroundColor:"transparent"},disablePadding:!0},r.createElement(ie,ae({},s,{onMouseDown:function(e){e.preventDefault()}}))))};var de=["value","onChange"];function be(){return be=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},be.apply(null,arguments)}var ve=t(8058),Ae=["value","onChange"];function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ye.apply(null,arguments)}var ge=t(9549),he=t(7709),xe=t(2477),Ce=["value","onChange","options"];function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ee.apply(null,arguments)}var we=t(844),Oe=["value","onChange"];function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Pe.apply(null,arguments)}const Se={input:function(e){var n=e.value,t=e.onChange,o=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,Ae);return r.createElement(ve.A,ye({autoComplete:"off",fullWidth:!0,hiddenLabel:!0,size:"small",value:n,onChange:function(e){return t(e.target.value)},slotProps:{input:{style:{height:"30px",fontSize:"11px"}}}},o))},select:function(e){var n=e.value,t=e.onChange,o=e.options,i=void 0===o?[]:o,a=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,Ce),l=(0,xe.w)((function(){return i.map((function(e){return r.createElement(he.A,{key:e.value,value:e.value},e.label)}))}),[i]),c=(0,r.useCallback)((function(e){return t(e.target.value)}),[t]);return r.createElement(ge.A,Ee({value:n,onChange:c,style:{height:"30px",fontSize:"11px"},fullWidth:!0},a,{size:"small",MenuProps:{sx:{"& .MuiMenuItem-root":{fontSize:"11px"}}}}),l)},switch:function(e){var n=e.value,t=e.onChange,o=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,Oe);return r.createElement(we.A,Pe({size:"small",value:n,onChange:function(e){return t(e.target.checked)}},o))},editor:function(e){var n=e.value,t=e.onChange,o=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,de);return r.createElement(me,be({value:String(n),onChange:function(e,n){return t(n)}},o,{hideLineNo:!0}))},buttons:function(e){var n=e.value,t=e.onChange,o=e.options,i=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,P),a=(0,r.useMemo)((function(){return o.map((function(e){return r.createElement(w.A,{key:e.value,value:e.value,sx:{fontSize:"11px",width:"40px",height:"30px"}},e.label)}))}),o),l=(0,r.useCallback)((function(e,n){console.log("v",e,n),t(n)}),[t]);return r.createElement(O.A,S({value:n,exclusive:!0,onChange:l,size:"small"},i),a)}};var je=t(3152),_e=t(744),Ie=t(1078),ke=t(8051),Be=t(3132),De=t(7796),Te=t(2122),ze=t(9028),Ne=t(2185),Me=t(6945),Le=t(4543),Re=t(6951),Fe=t(8407),We={};We.styleTagTransform=y(),We.setAttributes=d(),We.insert=f().bind(null,"head"),We.domAPI=s(),We.insertStyleElement=v(),c()(Fe.A,We);const Ye=Fe.A&&Fe.A.locals?Fe.A.locals:void 0;var Ge=t(2324);function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ue(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ve(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ue(Object(t),!0).forEach((function(n){Xe(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Xe(e,n,t){return(n=function(e){var n=function(e){if("object"!=He(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=He(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==He(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qe.apply(null,arguments)}function Ke(e){return r.createElement("div",{style:{display:"flex",alignItems:"center",columnGap:10}},r.createElement(q.A,{fontSize:12,width:50,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},e.label),r.createElement("div",{style:{flex:"1 1"}},e.children))}var Ze=["render","onChange"],Qe=function(e){var n=e.schema,t=e.initialValues,o=e.onChange,i=e.onSubmit,a=e.size,l=e.enableExpression,c=void 0===l||l,u=(0,Re.Wx)({initialValues:t,onSubmit:function(e,n){null==i||i(e,n)}}),s=(0,r.useRef)(u);s.current=u;var p=(0,r.useCallback)((function(e){u.handleChange(e),(0,Y.cu)((function(){null==o||o(Ve({},s.current.values))}))}),[o,u,u.handleChange]),f=(0,r.useMemo)((function(){return c?function(e,n){var t=new Ge.A({mode:"expression"}),r={formValues:n};t.init(r);var o=/\{\{([\s\S]*?)\}\}/gi,i=(0,Y.Bl)(e,(function(e,r){if("function"==typeof e&&!Ze.includes(r))return e(n);if("string"!=typeof e)return e;for(var i=e.trim(),a=null,l=i,c=[];null!==(a=o.exec(i));){var u=a[1],s=a[0],p=t.exec(u);if(s.length===i.length){l=p;break}c.push({expression:u,expressionWithBracket:s,expressionReturn:p,index:a.index})}return c.length&&c.reverse().forEach((function(e){var n=l.substring(0,e.index),t=l.substring(e.index+e.expressionWithBracket.length,l.length);l=n+e.expressionReturn+t})),o.lastIndex=0,l}));return i.items=i.items.flat(),i}(n,s.current.values):n}),[n,c]);return(0,r.useMemo)((function(){s.current.setValues(t)}),[t]),r.createElement("div",{onKeyDown:function(e){return e.stopPropagation()}},r.createElement("form",{onSubmit:u.handleSubmit},(0,Ne.A)(null==f?void 0:f.items,(function(e){var n="".concat(e.field,"-label");return r.createElement("div",{className:Ye["form-item"],key:e.field||e.key},function(e,n,t){var o=e.type,i=e.field,a=e.label,l=e.options,c=(e.labelId,e.size),u=void 0===c?"small":c,s=e.hidden,p=e.render,f=e.onChange;if(s)return null;if("function"==typeof p)return p(e,n);var m=null,d={id:i,name:i,value:(0,N.A)(n.values,i,""),onChange:function(e){t(e),null==f||f(e,n)},size:u};switch(o){case Le.s.INPUT:m=r.createElement(Ke,{label:a},r.createElement(ve.A,qe({},d,{hiddenLabel:!0,fullWidth:!0})));break;case Le.s.SELECT:var b=(0,Ne.A)(l,(function(e){var n=e.value,t=e.label;return r.createElement(he.A,{key:n,value:n},t)}));d.children=b,m=r.createElement(Ke,{label:a},r.createElement(ge.A,qe({style:{height:"30px",fontSize:"11px"}},d,{hiddenLabel:!0,fullWidth:!0,MenuProps:{sx:{"& .MuiMenuItem-root":{fontSize:"12px"}}}})));break;case Le.s.SWITCH:m=r.createElement(Ke,{label:a},r.createElement(we.A,d));break;case Le.s.EDITOR:m=r.createElement(Ke,{label:a},r.createElement(me,qe({},d,{hideLineNo:!0})))}return m}(Ve(Ve({},e),{},{labelId:n,size:a}),u,p))}))))},$e=t(3554),Je=t(6482);function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function nn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||tn(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,n){if(e){if("string"==typeof e)return rn(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rn(e,n):void 0}}function rn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function on(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function an(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?on(Object(t),!0).forEach((function(n){ln(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):on(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ln(e,n,t){return(n=function(e){var n=function(e){if("object"!=en(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=en(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==en(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var cn=[{value:Me.X2.CONTROL_COMPONENT,label:"控制组件"},{value:Me.X2.RUN_SCRIPT,label:"运行脚本"},{value:Me.X2.NOTIFY,label:"通知"},{value:Me.X2.NAVIGATION,label:"跳转"}],un=ln(ln(ln({},Me.X2.RUN_SCRIPT,[{type:Le.s.EDITOR,field:"action.options.sourceCode",label:"代码"}]),Me.X2.NOTIFY,[{type:Le.s.EDITOR,field:"action.options.notifyContent",label:"通知内容",defaultValue:"这是一条消息通知"},{type:Le.s.SELECT,field:"action.options.notifyVariant",label:"通知类型",options:[{value:"default",label:"默认"},{value:"error",label:"错误"},{value:"success",label:"成功"},{value:"warning",label:"警告"},{value:"info",label:"通知"}]},{type:Le.s.SELECT,field:"action.options.notifyAnchorOrigin",label:"位置",options:[{label:"顶部中间",value:"top-center"},{label:"顶部偏左",value:"top-left"},{label:"顶部偏右",value:"top-right"},{label:"底部偏左",value:"bottom-left"},{label:"底部中间",value:"bottom-center"},{label:"底部偏右",value:"bottom-right"}]},{type:Le.s.SWITCH,field:"action.options.notifyHideIconVariant",label:"隐藏图标"}]),Me.X2.NAVIGATION,[{type:Le.s.INPUT,field:"action.options.navigationLink",label:"跳转链接"},{type:Le.s.SELECT,field:"action.options.navigationType",label:"跳转方式",options:[{value:"_blank",label:"新标签页"},{value:"_self",label:"当前页面"},{value:"_parent",label:"父框架"},{value:"_top",label:"顶层框架"}]},{type:Le.s.EDITOR,field:"action.options.navigationFeature",label:"特性参数"}]),sn=function(e){var n,t=(E.A.getState()[e]||{}).schema,r=null==t||null===(n=t.events)||void 0===n?void 0:n[0].type;return r?{type:r,action:{type:Me.X2.NOTIFY,options:{sourceCode:"{{(function () {\n  console.log('hello');\n  console.log('current time is', Date.now());\n})()}}",notifyContent:"你好 {{current_user.username}}",notifyVariant:"info",navigationLink:"https://example.com",navigationType:"_blank",navigationFeature:JSON.stringify({width:600,height:400,scrollbars:"yes",resizable:"yes"},null,2),notifyAnchorOrigin:"top-center"}}}:null},pn=function(e){var n=e.id,t=e.eventId,o=(0,_e.L)((function(e){var r;if(!t)return null;var o=null===(r=e.events[n])||void 0===r?void 0:r.find((function(e){return e.id===t}));return o})),i=(0,_e.L)((function(e){return e.updateEvent})),a=(0,C.YH)((function(e){return e.plainSchema[n]})),l=(0,E.A)((function(e){return e[null==a?void 0:a.type]})).schema,c=(0,Ne.A)(l.events,(function(e){return{value:e.type,label:e.name}})),u=(0,xe.w)((function(){return function(e){var n=e.event,t=e.eventOptions;if(!n)return{items:[]};var o,i=function(e){var n=e.event.action;if(!n)return[];if(un[null==n?void 0:n.type])return un[null==n?void 0:n.type];if(n.type===Me.X2.CONTROL_COMPONENT){var t=C.YH.getState().plainSchema;return[{type:Le.s.SELECT,field:"action.options.target",label:"目标组件",options:Object.keys(t).map((function(e){return{value:e,label:e}})).filter((function(e){var n=e.value;return(0,Je.iK)(t[n].type).length})),onChange:function(e,n){n.setFieldValue("action.options.method","")}},{type:Le.s.SELECT,field:"action.options.method",label:"调用方法",hidden:"{{!formValues.action.options.target}}",options:function(e){var n=(0,N.A)(e,"action.options.target");return n?(0,Je.iK)(t[n].type):[]}},function(e){var n=(0,N.A)(e,"action.options.target"),t=(0,N.A)(e,"action.options.method");if(console.log("here1"),!n||!t)return[];var r=(0,Y.eQ)(n).methods.find((function(e){return e.type===t})).optionSchema;return(0,Ne.A)(r,(function(e){return an(an({},e),{},{field:"action.options."+e.field})}))}]}return[]}({event:n}),a=[{type:Le.s.SELECT,field:"type",label:"事件类型",options:t},{type:Le.s.SELECT,field:"action.type",label:"动作",options:cn},{key:"optionDivider",render:function(e,t){var o;return r.createElement(oe.A,null,r.createElement(q.A,{variant:"caption"},"".concat(null===(o=cn.find((function(e){var t;return e.value===(null===(t=n.action)||void 0===t?void 0:t.type)})))||void 0===o?void 0:o.label,"选项")))}}];return{items:[].concat(a,(o=i,function(e){if(Array.isArray(e))return rn(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||tn(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}}({event:o,eventOptions:c})}),[o,c]),s=(0,r.useCallback)((function(e){e.action.callback&&delete e.action.callback,i(n,t,e)}),[n,t]);return r.createElement("div",{className:x["action-config-panel"]},r.createElement(Qe,{initialValues:o,schema:u,onChange:s,size:"small"}))},fn=(0,r.forwardRef)((function(e,n){var t=(0,a.A)((function(e){return e.selected})),o=(0,_e.L)((function(e){return e.events[t]})),i=(0,_e.L)((function(e){return e.addEvent})),l=nn((0,r.useState)(!1),2),c=l[0],u=l[1],s=(0,r.useRef)(null),p=nn((0,r.useState)(""),2),f=p[0],m=p[1],d=(0,C.YH)((function(e){return e.plainSchema[t]})),b=(0,E.A)((function(e){return e[d.type]})),v=(0,r.useRef)(null),A=nn((0,r.useState)(!1),2),y=A[0],g=A[1],h=(0,_e.L)((function(e){return e.deleteEvent})),w=(0,r.useRef)(""),O=(0,r.useMemo)((function(){return null==o?void 0:o.find((function(e){return e.id===f}))}),[o,f]),P=(0,r.useMemo)((function(){return b.schema.events.find((function(e){return e.type===(null==O?void 0:O.type)}))}),[O,b]),S=!(null!=o&&o.length);(0,r.useEffect)((function(){return function(){u(!1),m("")}}),[t]),(0,r.useImperativeHandle)(n,(function(){return{openEventPanel:function(e){s.current=document.getElementById("event-list-item-".concat(e)),m(e),u(!0)}}}));var j=(0,r.useCallback)((function(){h(t,w.current),g(!1),w.current=""}),[t]);return r.createElement("div",{className:x["event-list"]},S?r.createElement("div",{className:x["event-list-empty"],onClick:function(e){var n=sn(d.type);i(t,n);var r=_e.L.getState().events[t][0];s.current=e.currentTarget.parentElement,m(r.id),u(!0)}},r.createElement(q.A,{variant:"caption"},"暂无事件，点击开始事件管理")):r.createElement(Ie.A,{sx:{p:0}},(0,Ne.A)(o,(function(e){var n=e.id,t=e.type,o=e.action,i=b.schema.events.find((function(e){return e.type===t})),a=cn.find((function(e){return e.value===o.type}));return r.createElement(ke.Ay,{key:n,sx:{p:0},id:"event-list-item-".concat(n),secondaryAction:r.createElement(Be.A,{edge:"end",size:"small",sx:{borderRadius:"3px"},onClick:function(e){v.current=e.currentTarget,w.current=n,g(!0),u(!1)}},r.createElement($e.A,{sx:{fontSize:"14px"}}))},r.createElement(De.A,{sx:{pt:0,pb:0},onClick:function(e){m(n),u(!0),s.current=e.currentTarget}},r.createElement(Te.A,{primary:r.createElement(q.A,{sx:{fontSize:"12px"}},i.name)}),r.createElement(Te.A,{sx:{color:"#a1a1a1"},primary:r.createElement(q.A,{sx:{fontSize:"12px"}},null==a?void 0:a.label)})))}))),r.createElement(te,{open:c,anchorEl:s.current,placement:"left",onOpenChange:function(e){return u(e)},title:(null==P?void 0:P.name)+"事件配置"},r.createElement(pn,{id:t,eventId:f})),r.createElement(ze.A,{open:y,anchorEl:v.current,onClose:function(){w.current="",g(!1)}},r.createElement(he.A,{sx:{color:"red",fontSize:"12px"},onClick:j},"删除")))}));const mn=fn;var dn,bn,vn,An,yn,gn,hn,xn,Cn,En,wn=t(2564);function On(){return On=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},On.apply(null,arguments)}const Pn=function(e){return r.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 647.636 632.174"},e),dn||(dn=r.createElement("path",{fill:"#f2f2f2",d:"M411.146 142.174h-174.51a15.02 15.02 0 0 0-15 15v387.85l-2 .61-42.81 13.11a8.007 8.007 0 0 1-9.99-5.31l-127.34-415.95a8.003 8.003 0 0 1 5.31-9.99l65.97-20.2 191.25-58.54 65.97-20.2a7.99 7.99 0 0 1 9.99 5.3l32.55 106.32Z"})),bn||(bn=r.createElement("path",{fill:"#3f3d56",d:"m449.226 140.174-39.23-128.14a16.994 16.994 0 0 0-21.23-11.28l-92.75 28.39-191.24 58.55-92.75 28.4a17.015 17.015 0 0 0-11.28 21.23l134.08 437.93a17.03 17.03 0 0 0 16.26 12.03 16.8 16.8 0 0 0 4.97-.75l63.58-19.46 2-.62v-2.09l-2 .61-64.17 19.65a15.015 15.015 0 0 1-18.73-9.95L2.666 136.734a14.98 14.98 0 0 1 9.95-18.73l92.75-28.4 191.24-58.54 92.75-28.4a15.2 15.2 0 0 1 4.41-.66 15.015 15.015 0 0 1 14.32 10.61l39.05 127.56.62 2h2.08Z"})),vn||(vn=r.createElement("path",{fill:"#1976d2",d:"M122.68 127.82a9.02 9.02 0 0 1-8.61-6.366l-12.88-42.072a9 9 0 0 1 5.97-11.24L283.1 14.278a9.01 9.01 0 0 1 11.24 5.971l12.88 42.072a9.01 9.01 0 0 1-5.97 11.241l-175.94 53.864a9 9 0 0 1-2.63.395"})),An||(An=r.createElement("circle",{cx:190.154,cy:24.955,r:20,fill:"#1976d2"})),yn||(yn=r.createElement("circle",{cx:190.154,cy:24.955,r:12.665,fill:"#fff"})),gn||(gn=r.createElement("path",{fill:"#e6e6e6",d:"M602.636 582.174h-338a8.51 8.51 0 0 1-8.5-8.5v-405a8.51 8.51 0 0 1 8.5-8.5h338a8.51 8.51 0 0 1 8.5 8.5v405a8.51 8.51 0 0 1-8.5 8.5"})),hn||(hn=r.createElement("path",{fill:"#3f3d56",d:"M447.136 140.174h-210.5a17.024 17.024 0 0 0-17 17v407.8l2-.61v-407.19a15.02 15.02 0 0 1 15-15h211.12Zm183.5 0h-394a17.024 17.024 0 0 0-17 17v458a17.024 17.024 0 0 0 17 17h394a17.024 17.024 0 0 0 17-17v-458a17.024 17.024 0 0 0-17-17m15 475a15.02 15.02 0 0 1-15 15h-394a15.02 15.02 0 0 1-15-15v-458a15.02 15.02 0 0 1 15-15h394a15.02 15.02 0 0 1 15 15Z"})),xn||(xn=r.createElement("path",{fill:"#1976d2",d:"M525.636 184.174h-184a9.01 9.01 0 0 1-9-9v-44a9.01 9.01 0 0 1 9-9h184a9.01 9.01 0 0 1 9 9v44a9.01 9.01 0 0 1-9 9"})),Cn||(Cn=r.createElement("circle",{cx:433.636,cy:105.174,r:20,fill:"#1976d2"})),En||(En=r.createElement("circle",{cx:433.636,cy:105.174,r:12.182,fill:"#fff"})))};var Sn=t(2646),jn=t(3369),_n=t(4951);function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kn.apply(null,arguments)}function Bn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bn(Object(t),!0).forEach((function(n){Tn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Tn(e,n,t){return(n=function(e){var n=function(e){if("object"!=In(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=In(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==In(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var zn=function(){var e=(0,a.A)((function(e){return e.selected})),n=ar((function(e){return e.setPropsPanelVisible}));return r.createElement(re.A,{display:"flex",alignItems:"center",paddingLeft:"10px",height:25},r.createElement(q.A,{fontWeight:1e3,fontSize:13,flex:1},e),r.createElement(jn.A,{sx:{fontSize:13,mr:1,cursor:"pointer"},onClick:function(){return n(!1)}}))},Nn=function(e){var n=e.widget,t=e._key,o=e.name,i=e.schemaNode,a=e.widgetProps,l=e.accept,c=e.hidden,u=Se[n]||function(){return"not support yet"},s=i.id,p=(0,C.YH)((function(e){return e.plainSchema[s].state[t]})),f=(0,je.L)((function(e){return e.setState})),m=(0,C.YH)((function(e){return e.updateNode})),d=(0,je.L)((0,_n.k)((function(e){return Dn({},e[i.id])}))),b=(0,r.useCallback)((function(e){var n=(0,Y.rG)(e,l);f(s,Tn({},t,n)),m(s,{state:Tn({},t,e)})}),[f,t,m,s,l]),v=Dn({},a);"editor"!==n&&"input"!==n&&delete v.tipProps;var A=c;return"function"==typeof c&&(A=c(d)),A?null:r.createElement("div",{className:x["props-panel-item"],onKeyDown:function(e){return e.stopPropagation()}},r.createElement(Sn.A,{title:t,placement:"left-end",arrow:!0},r.createElement("div",{className:x["props-panel-item-label"]},r.createElement(q.A,{fontSize:12},o))),r.createElement("div",{className:x["props-panel-item-widget"]},r.createElement(u,kn({value:p,onChange:b},v))))},Mn=function(e){return r.createElement(re.A,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:"20px",height:"300px"},r.createElement(Pn,{width:120,preserveAspectRatio:"xMidYMid meet"}),r.createElement(q.A,{variant:"caption"},"未选择组件"))},Ln=function(e){var n=e.children,t=e.title,o=e.onAdd;return r.createElement("div",{className:x["panel-section"]},r.createElement("div",{className:x["panel-section-title"]},r.createElement(q.A,{fontSize:13,fontWeight:500},t),o&&r.createElement("span",{className:x["panel-section-title-add"],onClick:o},r.createElement(wn.A,{fontSize:"inherit"}))),r.createElement("div",{className:x["panel-section-content"]},n))};const Rn=function(){var e,n=(0,a.A)((function(e){return e.selected})),t=(0,C.YH)((function(e){return e.plainSchema[n]})),o=(0,E.A)((function(e){return e[null==t?void 0:t.type]})),i=null==o?void 0:o.schema,l=!(null==i||null===(e=i.events)||void 0===e||!e.length),c=(0,_e.L)((function(e){return e.addEvent})),u=(0,_e.L)((function(e){return e.getLatestEvent})),s=(0,r.useRef)(null);return r.createElement("div",{className:x["props-panel"]},r.createElement("div",{className:x["props-panel-inner"]},r.createElement(zn,null),r.createElement(oe.A,null),n&&o?r.createElement(r.Fragment,null,r.createElement(Ln,{key:"content",title:"内容"},function(e,n){var t=e.attributes,o=void 0===t?[]:t;return r.createElement("div",{className:x["items-container"]},o.map((function(e){var t=Dn(Dn({},e),{},{_key:e.key});return r.createElement(Nn,kn({},t,{schemaNode:n}))})))}(i,t)),l&&r.createElement(r.Fragment,null,r.createElement(oe.A,null),r.createElement(Ln,{key:"event",title:"事件",onAdd:function(){c(n,sn(t.type));var e=u(n);setTimeout((function(){var n;null===(n=s.current)||void 0===n||n.openEventPanel(e.id)}))}},r.createElement(mn,{ref:s})))):r.createElement(Mn,null)))};var Fn=t(9168);function Wn(e){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(e)}function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yn.apply(null,arguments)}function Gn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Hn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gn(Object(t),!0).forEach((function(n){Un(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Un(e,n,t){return(n=function(e){var n=function(e){if("object"!=Wn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Wn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wn(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const Vn=function(){var e=(0,Fn.V)((function(e){return{isDragging:e.isDragging(),currentOffset:e.getSourceClientOffset(),item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialClientOffset()}})),n=(e.isDragging,e.currentOffset),t=e.item,o=(e.itemType,e.initialOffset,null==t?void 0:t.type),i=null==t?void 0:t.source,a=(0,E.A)((function(e){return e[o]})),l=(0,je.L)((function(e){return e[null==t?void 0:t.id]}));if(i!==Me.qR.COMPONENT_PANEL)return null;var c=null==a?void 0:a.RawComponent;if(!t||!c)return null;var u=(0,Y.lt)(null==a?void 0:a.schema);i===Me.qR.CANVAS&&(u=Hn({},l));var s=n||{x:0,y:0},p=s.x,f=s.y,m=t.layout,d={width:m.width*(0,Y.We)(),height:m.height*Me.of};return r.createElement("div",{style:Hn(Hn({position:"fixed",left:p,top:f,pointerEvents:"none",zIndex:1e3,cursor:"grabbing"},d),{},{opacity:".5"})},r.createElement(c,Yn({},u,{_preview:!0})))};var Xn=t(5457),qn=t(693),Kn=t(9886),Zn=t(3589),Qn=t(2744),$n=t(2592),Jn=t(6440),et=t(3553),nt=t(2921),tt=t(188),rt=t(8768),ot={};ot.styleTagTransform=y(),ot.setAttributes=d(),ot.insert=f().bind(null,"head"),ot.domAPI=s(),ot.insertStyleElement=v(),c()(rt.A,ot);const it=rt.A&&rt.A.locals?rt.A.locals:void 0;var at=t(647),lt=t(1707);function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function ut(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function st(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ut(Object(t),!0).forEach((function(n){pt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ut(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function pt(e,n,t){return(n=function(e){var n=function(e){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=ct(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ct(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ft(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return mt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mt(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dt.apply(null,arguments)}var bt=function(e){var n=e.componentInfo,t=n.RawComponent,o=n.schema,i=(0,Y.lt)(o),a=40*(o.layout.aspectRatio||2);return r.createElement("div",{className:it["preview-container"],style:{width:a,height:40}},r.createElement(t,dt({},i,{_preview:!0})))},vt=function(e){var n=e.componentInfo,t=n.schema,o=t.type,i=(t.cover,t.name),a=t.layout,l=(0,lt.A)((function(e){return e.markDragging})),c=(0,lt.A)((function(e){return e.markDragEnd})),u=ft((0,tt.i)((function(){return{type:Me.QF.COMPONENT,collect:function(e){return{isDragging:e.isDragging(),cursorOffset:e.getInitialClientOffset}},item:function(e){var n={type:o,name:i,itemType:Me.QF.COMPONENT,layout:st({},a),source:Me.qR.COMPONENT_PANEL,schema:t};return l(st({},n)),n},end:function(e,n){c()}}}),[t,l]),3),s=u[0].isDragging,p=u[1],f=u[2];return(0,r.useEffect)((function(){var e=(0,at.n)();e.style.cursor="grabbing",f(e,{captureDraggingState:!1})}),[s]),r.createElement("div",{ref:p,style:{opacity:s?"0.5":"1",cursor:s?"grabbing":"grab"},className:it["component-card"]},r.createElement("div",{className:it["component-card-thumbnail"]},r.createElement(bt,{componentInfo:n})),r.createElement("div",{className:it["component-card-name"]},i))};var At=t(8907),yt=t(8090),gt=t(2968),ht=t(1271),xt=t(7958),Ct=t(9102),Et=t(9572);function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function Ot(e){return function(e){if(Array.isArray(e))return jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||St(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||St(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,n){if(e){if("string"==typeof e)return jt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jt(e,n):void 0}}function jt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_t.apply(null,arguments)}function It(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function kt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?It(Object(t),!0).forEach((function(n){Bt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):It(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Bt(e,n,t){return(n=function(e){var n=function(e){if("object"!=wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=wt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wt(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Dt=(0,At.Ay)(yt.M1)((function(e){var n=e.theme;return kt(Bt(Bt(Bt({},"& .".concat(gt.m.content),Bt({borderRadius:n.spacing(.5),padding:n.spacing(.5,1),margin:n.spacing(.2,0)},"& .".concat(gt.m.label),{fontSize:"0.8rem",fontWeight:500})),"& .".concat(gt.m.iconContainer),kt(kt({borderRadius:"50%",backgroundColor:n.palette.primary.dark,padding:n.spacing(0,1.2)},n.applyStyles("light",{backgroundColor:(0,Ct.X4)(n.palette.primary.main,.25)})),n.applyStyles("dark",{color:n.palette.primary.contrastText}))),"& .".concat(gt.m.groupTransition),{marginLeft:16,paddingLeft:10,borderLeft:"1px dashed ".concat((0,Ct.X4)(n.palette.text.primary,.4))}),n.applyStyles("light",{color:n.palette.grey[800]}))})),Tt=r.forwardRef((function(e,n){var t=(0,a.A)((function(e){return e.setHovered}));return r.createElement(Dt,_t({},e,{ref:n,slotProps:{root:{onMouseOverCapture:function(){t(e.itemId)}}}}))}));var zt=(0,nt.v)((function(e,n){return{actived:"addUI",open:!1,setActived:function(n){return e({actived:n})},setOpen:function(n){return e({open:n})}}})),Nt=[{id:"addUI",name:"物料库",icon:r.createElement(Qn.A,null),component:function(){var e=(0,E.A)(),n={};return Object.keys(e).forEach((function(t){var r=e[t];"function"!=typeof r&&(n[t]=r)})),r.createElement("div",{className:it["components-panel"]},Object.entries(n).map((function(e){var n=ft(e,2),t=n[0],o=n[1];return r.createElement(vt,{key:t,componentInfo:o})})))}},{id:"componentTree",name:"组件树",icon:r.createElement($n.A,null),component:function(){var e=(0,C.YH)((0,_n.k)((function(e){return{schema:e.schema,plainSchema:e.plainSchema}}))),n=e.schema,t=e.plainSchema,o=(0,a.A)((0,_n.k)((function(e){return{selected:e.selected,setSelected:e.setSelected,setHovered:e.setHovered}}))),i=o.selected,l=o.setSelected,c=o.setHovered,u=Pt((0,r.useReducer)((function(e){return e+1}),0),2),s=(u[0],u[1],Pt((0,r.useMemo)((function(){var e={};return[[(0,C.mx)(n,(function(n,t){var r=kt(kt({},n),{},{label:n.id,path:t});return e[n.id]=r,r}))],e]}),[t,n]),2)),p=s[0],f=s[1],m=Pt((0,r.useState)([]),2),d=m[0],b=m[1];return(0,r.useEffect)((function(){var e=f[i];e&&b((0,xt.A)([].concat(Ot(d),Ot(e.path),[i])))}),[i,t]),r.createElement(re.A,null,r.createElement(ht.K,{slots:{item:Tt},items:p,selectedItems:i,expandedItems:d,onExpandedItemsChange:function(e,n){b(n)},onSelectedItemsChange:function(e,n){l(n),(0,Et.jX)(n)||(0,Y.Rt)(n)},onMouseOut:function(){return c("")}}))}}];const Mt=function(){var e=zt((0,_n.k)((function(e){return{actived:e.actived,open:e.open,setOpen:e.setOpen,setActived:e.setActived}}))),n=e.actived,t=e.open,o=e.setOpen,i=e.setActived,a=(0,r.useMemo)((function(){return t?160:60}),[t]);return r.createElement(Zn.Ay,{onClose:function(){return o(!1)},open:t,sx:{width:a,overflow:"hidden",transition:"width .3s",flexShrink:0,"& .MuiDrawer-paper":{transition:"width .3s",width:a,boxSizing:"border-box",overflow:"hidden"}},variant:"permanent",anchor:"left"},r.createElement(qn.A,{sx:{minHeight:"40px !important"}}),r.createElement(Ie.A,null,r.createElement(ke.Ay,null,r.createElement(Kn.A,{sx:{cursor:"pointer"},onClick:function(){o(!t)}},t?r.createElement(et.A,null):r.createElement(Jn.A,null))),r.createElement(oe.A,{sx:{marginBottom:"1px"}}),Nt.map((function(e,t){var o=e.name,a=e.id,l=e.icon;return r.createElement(ke.Ay,{key:a,disablePadding:!0,sx:{whiteSpace:"nowrap"}},r.createElement(De.A,{onClick:function(){return i(a)},style:{backgroundColor:n===a?"var(--container-bg-hover-1)":""}},r.createElement(Kn.A,null,l),r.createElement(Te.A,{primary:r.createElement(q.A,{fontSize:12},o)})))}))))},Lt=function(){var e=zt((function(e){return e.actived})),n=zt((function(e){return e.setActived})),t=Nt.find((function(n){return n.id===e}));return r.createElement(re.A,{display:"flex",alignItems:"center",height:30,padding:"0 12px"},r.createElement(q.A,{fontSize:13,variant:"subtitle2",flex:1},(null==t?void 0:t.name)||""),r.createElement(jn.A,{sx:{fontSize:"14px",cursor:"pointer"},onClick:function(){return n("")}}))};var Rt=t(1977),Ft=t(6457),Wt=t(2468),Yt=performance.now(),Gt=[],Ht=[],Ut=0,Vt=0;function Xt(e){Ht.push(e);var n=performance.now(),t=n-Yt;Yt=n,Gt.push(t),Gt.length>60&&Gt.shift();var r=1e3/(Gt.reduce((function(e,n){return e+n}))/Gt.length);return Ut=requestAnimationFrame(Xt),++Vt>=10&&(Ht.forEach((function(e){try{e(r)}catch(e){}})),Vt=0),{cancel:function(e){var n=Ht.findIndex((function(n){return n===e}));n<0||(Ht.splice(n,1),0===Ht.length&&cancelAnimationFrame(Ut))},stop:function(){Ht.length=0,cancelAnimationFrame(Ut)}}}var qt=t(6651),Kt=t(665);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Qt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qt(Object(t),!0).forEach((function(n){Jt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Jt(e,n,t){return(n=function(e){var n=function(e){if("object"!=Zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Zt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zt(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function er(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return nr(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nr(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const tr=function(){var e=(0,Wt.A)(),n=er((0,r.useState)(0),2),t=n[0],o=n[1];(0,r.useEffect)((function(){var e=function(e){o(e.toFixed(0))},n=Xt(e).cancel;return function(){n(e)}}),[]);var i=(0,r.useMemo)((function(){return(0,Y.Vd)()}),[]),a=er((0,r.useState)(!1),2),l=a[0],c=a[1],u=(0,Kt.pn)(l,{from:{opacity:0,translateY:0},enter:{opacity:1,translateY:-10},leave:{opacity:0,translateY:0}});return r.createElement(Ft.A,{position:"fixed",sx:{top:"auto",bottom:0,zIndex:e.zIndex.drawer+1,backgroundColor:"var(--container-bg-3)"}},r.createElement(qn.A,{style:{minHeight:20}},r.createElement(re.A,{flex:1,position:"relative",display:"flex"},r.createElement(q.A,{onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},fontSize:10,color:"info"},t," FPS"),u((function(e,n){return n&&r.createElement(Kt.CS.div,{style:$t({position:"absolute",top:-60,left:-33,pointerEvents:"none"},e)},r.createElement(qt.A,{size:10}))}))),r.createElement(q.A,{fontSize:10,color:"textDisabled"},i.version)))};function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function or(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ir(e,n,t){return(n=function(e){var n=function(e){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=rr(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rr(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ar=(0,nt.v)((function(e,n){return{propsPanel:{visible:!0},setPropsPanelVisible:function(n){return e((function(e){return e.propsPanel.visible=n,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?or(Object(t),!0).forEach((function(n){ir(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):or(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e)}))}}}));const lr=function(){var e,n,t=zt((function(e){return e.actived})),a=(e=t,(null===(n=Nt.find((function(n){return n.id===e})))||void 0===n?void 0:n.component)||function(){return null}),l=ar((function(e){return e.propsPanel.visible})),c=ar((function(e){return e.setPropsPanelVisible}));return r.createElement("div",null,r.createElement("div",{id:"low-code-container",className:o.A["low-code-container"]},r.createElement(Mt,null),t&&r.createElement("div",{className:o.A["left-side-tool-container"]},r.createElement(Lt,null),r.createElement(oe.A,null),r.createElement(a,null)),r.createElement("div",{className:o.A["canvas-container"],id:"canvas-container"},r.createElement(i.A,null)),l&&r.createElement("div",{style:{flex:"0 0 250px"}},r.createElement(Rn,null)),r.createElement(Vn,null),r.createElement(tr,null)),!l&&r.createElement(Xn.A,{variant:"extended",size:"small",onClick:function(){return c(!0)},sx:{position:"fixed",right:-55,top:70,borderRadius:"5px",transition:"transform .3s",transform:"translateX(0)","&:hover":{transform:"translateX(-50px)"}}},r.createElement(Rt.A,{sx:{fontSize:"16px",mr:1}}),r.createElement(q.A,{fontSize:11},"配置面板")))}}}]);
//# sourceMappingURL=770.35bdbf9f020f555714f4.js.map